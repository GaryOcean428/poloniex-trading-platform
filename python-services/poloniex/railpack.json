{
  "$schema": "https://schema.railpack.com",
  "provider": "python",
  "python": {
    "version": "3.11"
  },
  "env": {
    "PYTHONUNBUFFERED": "1",
    "PYTHONDONTWRITEBYTECODE": "1"
  },
  "install": {
    "commands": [
      "python -m pip install --upgrade pip setuptools wheel",
      "pip install -r requirements.txt",
      "python -c 'import uvicorn; print(f\"âœ“ uvicorn {uvicorn.__version__}\")'"
    ]
  },
  "start": {
    "command": "python -m uvicorn health:app --host 0.0.0.0 --port ${PORT:-8000} --workers 2 --loop uvloop --access-log"
  },
  "health": {
    "path": "/healthz",
    "timeout": 300
  },
  "restart": {
    "policy": "always",
    "maxRetries": 10
  }
}