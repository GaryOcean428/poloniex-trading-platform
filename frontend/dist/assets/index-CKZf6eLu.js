const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BYgIIIsv.js","assets/vendor-DsQnMDHq.js","assets/crypto-CVBDpkJt.js","assets/chartjs-DvSMsvNv.js","assets/PriceChart-Bcu0RoZW.js","assets/RecentTrades-CYiHn0-D.js","assets/utils-BDAWB_4D.js","assets/recharts-C046zHnu.js","assets/ui-D6B6e0vX.js","assets/LiveTradingDashboard-C0K1vBGG.js","assets/Strategies-CGTU5x-K.js","assets/strategyExecutors-CW6YIKo8.js","assets/Backtesting-CxVL2-vg.js","assets/Account-TxjliNfA.js","assets/TransactionHistory-Dt2QGyWT.js","assets/TradeHistory-DoPN0nKR.js","assets/MarketAnalysis-C8KLpgGn.js","assets/Performance-CBPg-n-j.js","assets/Settings-CaUj8_Zq.js","assets/Chat-B4qlre0Q.js","assets/ExtensionDownload-FCKYdJap.js","assets/Status-BJiEOvMq.js","assets/Login-Dkf1exg4.js","assets/NotFound-BNP58ufs.js"])))=>i.map(i=>d[i]);
import{r as l,j as s,u as ke,L as ze,Z as xe,U as be,C as We,d as Ke,M as Je,e as Ge,S as je,X as Xe,f as ce,g as Ye,B as _t,h as Tt,i as Nt,k as le,A as It,T as Ct,l as kt,H as jt,m as Ae,n as At,W as Dt,o as Pt,p as Rt,q as qe,s as Se,E as Lt,t as Mt,v as Qe,w as Ze,I as Ot,x as Ut,y as $t,z as D,D as Bt}from"./vendor-DsQnMDHq.js";import{a as F,l as et}from"./utils-BDAWB_4D.js";import{C as Ne}from"./crypto-CVBDpkJt.js";import{c as ee,p as Ft}from"./recharts-C046zHnu.js";import{t as Vt}from"./ui-D6B6e0vX.js";import"./chartjs-DvSMsvNv.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();const Ht="modulepreload",zt=function(n){return"/"+n},Pe={},R=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let d=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");o=d(t.map(m=>{if(m=zt(m),m in Pe)return;Pe[m]=!0;const h=m.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${u}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Ht,h||(f.as="script"),f.crossOrigin="",f.href=m,c&&f.setAttribute("nonce",c),document.head.appendChild(f),h)return new Promise((p,E)=>{f.addEventListener("load",p),f.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return o.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},Wt={API_KEY:"poloniex_api_key",API_SECRET:"poloniex_api_secret",IS_LIVE_TRADING:"poloniex_is_live_trading",NOTIFICATIONS:"poloniex_notifications",DARK_MODE:"poloniex_dark_mode",DEFAULT_PAIR:"poloniex_default_pair",EMAIL_NOTIFICATIONS:"poloniex_email_notifications",TRADE_NOTIFICATIONS:"poloniex_trade_notifications",PRICE_ALERTS:"poloniex_price_alerts",CHAT_NOTIFICATIONS:"poloniex_chat_notifications",SHOW_EXTENSION:"poloniex_show_extension"},j=(n,e)=>{try{const t=localStorage.getItem(n);return t?JSON.parse(t):e}catch{return e}},Kt=(n,e)=>{try{localStorage.setItem(n,JSON.stringify(e))}catch{}},Jt=()=>{try{const n="__storage_test__";return localStorage.setItem(n,n),localStorage.removeItem(n),!0}catch{return!1}},Re={apiKey:"",apiSecret:"",isLiveTrading:!1,darkMode:!1,defaultPair:"BTC-USDT",emailNotifications:!0,tradeNotifications:!0,priceAlerts:!1,chatNotifications:!0,showExtension:!0,chartType:"candle",timeframe:"5m",leverage:1,riskPerTrade:2,stopLossPercent:2,takeProfitPercent:4,trailingStopPercent:1,autoTradingEnabled:!1},T={...Wt,CHART_TYPE:"poloniex_chart_type",TIMEFRAME:"poloniex_timeframe",LEVERAGE:"poloniex_leverage",RISK_PER_TRADE:"poloniex_risk_per_trade",STOP_LOSS_PERCENT:"poloniex_stop_loss_percent",TAKE_PROFIT_PERCENT:"poloniex_take_profit_percent",TRAILING_STOP_PERCENT:"poloniex_trailing_stop_percent",AUTO_TRADING_ENABLED:"poloniex_auto_trading_enabled"},tt=l.createContext(void 0),Gt=({children:n})=>{const e=Jt(),t=()=>e?{apiKey:j(T.API_KEY,"6THJQ6FE-X32VSUH8-I8HQRELE-SVHRZ35Z"),apiSecret:j(T.API_SECRET,"5e719df6e3945cec371e905996322fabcc3b038a8f5e870b601c31c0bc8b7af6d5ec6349b4d50f12f80a13dde3f9c64ecc0882b1ee384e9b7c658a153c9d6b57"),isLiveTrading:j(T.IS_LIVE_TRADING,!1),darkMode:j(T.DARK_MODE,!1),defaultPair:j(T.DEFAULT_PAIR,"BTC-USDT"),emailNotifications:j(T.EMAIL_NOTIFICATIONS,!0),tradeNotifications:j(T.TRADE_NOTIFICATIONS,!0),priceAlerts:j(T.PRICE_ALERTS,!1),chatNotifications:j(T.CHAT_NOTIFICATIONS,!0),showExtension:j(T.SHOW_EXTENSION,!0),chartType:j(T.CHART_TYPE,"candle"),timeframe:j(T.TIMEFRAME,"5m"),leverage:j(T.LEVERAGE,1),riskPerTrade:j(T.RISK_PER_TRADE,2),stopLossPercent:j(T.STOP_LOSS_PERCENT,2),takeProfitPercent:j(T.TAKE_PROFIT_PERCENT,4),trailingStopPercent:j(T.TRAILING_STOP_PERCENT,1),autoTradingEnabled:j(T.AUTO_TRADING_ENABLED,!1)}:{...Re,apiKey:"6THJQ6FE-X32VSUH8-I8HQRELE-SVHRZ35Z",apiSecret:"5e719df6e3945cec371e905996322fabcc3b038a8f5e870b601c31c0bc8b7af6d5ec6349b4d50f12f80a13dde3f9c64ecc0882b1ee384e9b7c658a153c9d6b57"},[r,o]=l.useState(t),[i,a]=l.useState(!1);l.useEffect(()=>{a(!!(r.apiKey&&r.apiSecret))},[r.apiKey,r.apiSecret]),l.useEffect(()=>{r.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r.darkMode]);const c=u=>{o(f=>{const p={...f,...u};return u.isLiveTrading!==void 0&&u.isLiveTrading&&(!p.apiKey||!p.apiSecret)&&(p.isLiveTrading=!1),e&&Object.entries(u).forEach(([E,x])=>{const y=T[E.toUpperCase()]||`poloniex_${E}`;Kt(y,x)}),p})},d=()=>{o(Re),e&&Object.values(T).forEach(u=>{localStorage.removeItem(u)})},m=()=>{try{const u={...r};return["apiKey","apiSecret"].forEach(p=>{p in u&&delete u[p]}),JSON.stringify(u)}catch{return""}},h=u=>{try{const f=JSON.parse(u);if(typeof f!="object"||f===null)throw new Error("Invalid settings format");return["apiKey","apiSecret"].forEach(E=>{E in f&&delete f[E]}),c(f),!0}catch{return!1}};return s.jsx(tt.Provider,{value:{...r,updateSettings:c,resetSettings:d,hasStoredCredentials:i,exportSettings:m,importSettings:h,mockMode:!r.isLiveTrading},children:n})},nt=()=>{const n=l.useContext(tt);if(n===void 0)throw new Error("useSettings must be used within a SettingsProvider");return n},st=()=>{const[n,e]=l.useState(!1),[t,r]=l.useState("desktop"),o=l.useCallback(()=>{const u=window.innerWidth;return u<768?"mobile":u<1024?"tablet":"desktop"},[]),i=l.useCallback(()=>{const u=o();r(u),u!=="mobile"&&n&&e(!1)},[o,n]);l.useEffect(()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[i]);const a=l.useCallback(()=>{e(u=>!u)},[]),c=l.useCallback(()=>{e(!1)},[]);return l.useEffect(()=>{if(!n)return;const u=p=>{p.key==="Escape"&&c()},f=p=>{const E=p.target,x=document.getElementById("mobile-navigation"),y=document.getElementById("mobile-menu-toggle");x&&!x.contains(E)&&!y?.contains(E)&&c()};return document.addEventListener("keydown",u),document.addEventListener("click",f),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",u),document.removeEventListener("click",f),document.body.style.overflow=""}},[n,c]),{isMobileMenuOpen:n,toggleMobileMenu:a,closeMobileMenu:c,isMobile:t==="mobile",isTablet:t==="tablet",isDesktop:t==="desktop",screenSize:t}};function Xt(){if(!Ie())return!1;const e=localStorage.getItem("auth_expiry");if(e){const t=parseInt(e,10);if(Date.now()>t)return rt(),!1}return!0}function ve(n){const e=Date.now()+n.expiresIn*1e3;localStorage.setItem("access_token",n.accessToken),localStorage.setItem("refresh_token",n.refreshToken),localStorage.setItem("auth_expiry",e.toString()),localStorage.setItem("user_data",JSON.stringify(n.user))}function Yt(n,e){const t=Date.now()+e*1e3;localStorage.setItem("auth_token",n),localStorage.setItem("access_token",n),localStorage.setItem("auth_expiry",t.toString())}function rt(){localStorage.removeItem("auth_token"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("auth_expiry"),localStorage.removeItem("user_data")}function Ie(){return localStorage.getItem("access_token")||localStorage.getItem("auth_token")}function Le(){return localStorage.getItem("refresh_token")}function qt(){const n=localStorage.getItem("user_data");if(!n)return null;try{return JSON.parse(n)}catch{return null}}function Qt(){const n=localStorage.getItem("auth_expiry");if(!n)return!1;const e=parseInt(n,10),t=300*1e3;return Date.now()>e-t}var Zt=Object.defineProperty,en=(n,e,t)=>e in n?Zt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ot=(n,e,t)=>en(n,typeof e!="symbol"?e+"":e,t);const J="https://polytrade-be.up.railway.app";function tn(n){return n!==null&&typeof n=="object"&&"id"in n&&"username"in n&&"email"in n&&"role"in n}function G(n){return typeof n=="object"&&n!==null&&n.isAxiosError===!0}function nn(n){return typeof n=="object"&&n!==null&&"response"in n}const it=class te{constructor(){ot(this,"refreshPromise",null)}static getInstance(){return te.instance||(te.instance=new te),te.instance}async login(e){try{const t=await F.post(`${J}/api/auth/login`,e,{headers:{"Content-Type":"application/json"}});if(t.data?.success)return ve(t.data),{success:!0,data:t.data};if(t.data?.token&&t.data?.user){const r={success:!0,accessToken:t.data.token,refreshToken:"",expiresIn:1800,user:{id:String(t.data.user.id??""),username:String(t.data.user.username??t.data.user.name??""),email:String(t.data.user.email??""),role:String(t.data.user.role??"trader")}};return ve(r),{success:!0,data:r}}return{success:!1,error:"Login failed"}}catch(t){return(G(t)||nn(t))&&t.response?.data?{success:!1,error:t.response.data.error||"Login failed",code:t.response.data.code}:{success:!1,error:"Network error occurred"}}}async refreshToken(){if(this.refreshPromise)return this.refreshPromise;this.refreshPromise=this._refreshToken();const e=await this.refreshPromise;return this.refreshPromise=null,e}async _refreshToken(){try{const e=Le();if(!e)return null;const t=await F.post(`${J}/api/auth/refresh`,{refreshToken:e},{headers:{"Content-Type":"application/json"}});if(t.data.success){const r=this.getCurrentUser();return r&&ve({accessToken:t.data.accessToken,refreshToken:e,expiresIn:t.data.expiresIn,user:r}),t.data.accessToken}return null}catch(e){return G(e)&&(e.response?.status===403||e.response?.status===401)&&this.logout(),null}}async logout(){try{const e=Le();e&&await F.post(`${J}/api/auth/logout`,{refreshToken:e},{headers:{"Content-Type":"application/json"}})}catch{}finally{rt()}}async verifyToken(){try{const e=Ie();return e?!!(await F.get(`${J}/api/auth/verify`,{headers:{Authorization:`Bearer ${e}`}})).data?.success:!1}catch(e){if(G(e)){const t=e.response?.status;if(t===404||t===405||t===501)return!0}return!1}}getCurrentUser(){const e=localStorage.getItem("user_data");if(!e)return null;try{const t=JSON.parse(e);return tn(t)?t:null}catch{return null}}async authenticatedRequest(e,t,r){try{let o=Ie();if(Qt()){const c=await this.refreshToken();if(c)o=c;else return{success:!1,error:"Authentication failed"}}if(!o)return{success:!1,error:"No authentication token"};const i={method:e,url:`${J}${t}`,headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},...r!==void 0?{data:r}:{}};return{success:!0,data:(await F(i)).data}}catch(o){if(G(o)&&(o.response?.status===401||o.response?.status===403)){const i=await this.refreshToken();if(i)try{const a={method:e,url:`${J}${t}`,headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},...r!==void 0?{data:r}:{}};return{success:!0,data:(await F(a)).data}}catch(a){return{success:!1,error:(G(a)?a.response?.data?.error:void 0)||"Request failed"}}else return{success:!1,error:"Authentication failed"}}return{success:!1,error:(G(o)?o.response?.data?.error:void 0)||"Request failed"}}}};ot(it,"instance");let sn=it;const me=sn.getInstance(),at=l.createContext({isLoggedIn:!1,login:async()=>!1,logout:async()=>{},user:null,isAuthenticated:!1,loading:!1,refreshToken:async()=>!1}),rn=({children:n})=>{const[e,t]=l.useState(!1),[r,o]=l.useState(null),[i,a]=l.useState(!0);l.useEffect(()=>{(async()=>{a(!0);try{const u=Xt();if(t(u),u){const f=qt();f&&o(f),await me.verifyToken()||await d()}}catch{await d()}finally{a(!1)}})()},[]);const c=async(h,u)=>{try{if(typeof u=="string"){const f=await me.login({username:h,password:u});return f.success&&f.data?(t(!0),o(f.data.user),!0):!1}else return Yt(h,u||3600),t(!0),o({id:"1",username:"trader",email:"trader@example.com",role:"user"}),!0}catch{return!1}},d=async()=>{try{await me.logout()}catch{}finally{t(!1),o(null)}},m=async()=>{try{return await me.refreshToken()?!0:(await d(),!1)}catch{return await d(),!1}};return s.jsx(at.Provider,{value:{isLoggedIn:e,login:c,logout:d,user:r,isAuthenticated:e,loading:i,refreshToken:m},children:n})},De=()=>l.useContext(at),on=({className:n=""})=>{const{user:e,isLoggedIn:t}=De();return!t||!e?null:s.jsxs("div",{className:`flex items-center ${n}`,children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold mr-2",children:e.username.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium",children:e.username}),s.jsx("span",{className:"text-xs text-neutral-500",children:e.email})]})]})};function K(...n){return Vt(ee(n))}const ct=l.forwardRef(({className:n,variant:e="default",size:t="default",isLoading:r,children:o,...i},a)=>{const c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={default:"bg-brand-cyan text-text-inverse hover:opacity-90",primary:"bg-brand-cyan text-text-inverse hover:opacity-90",secondary:"bg-bg-secondary text-text-primary border border-border-moderate hover:bg-bg-tertiary",outline:"border border-border-moderate hover:bg-bg-secondary",ghost:"hover:bg-bg-secondary",link:"underline-offset-4 hover:underline text-brand-cyan",danger:"bg-error text-text-inverse hover:opacity-90"},m={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return s.jsxs("button",{className:K(c,d[e],m[t],r&&"opacity-70 cursor-not-allowed",n),ref:a,disabled:r||i.disabled,...i,children:[r?s.jsx("span",{className:"mr-2 animate-spin",children:"âŸ³"}):null,o]})});ct.displayName="Button";const an=l.forwardRef(({className:n,type:e,...t},r)=>s.jsx("input",{type:e,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));an.displayName="Input";const cn=l.forwardRef(({className:n,...e},t)=>s.jsx("label",{ref:t,className:K("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...e}));cn.displayName="Label";const ln=l.forwardRef(({className:n,children:e,...t},r)=>s.jsx("select",{className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t,children:e}));ln.displayName="Select";const dn=l.forwardRef(({className:n,...e},t)=>s.jsx("option",{ref:t,className:K("text-sm",n),...e}));dn.displayName="SelectOption";const un=l.forwardRef(({className:n,onValueChange:e,...t},r)=>{const o=i=>{const a=Number(i.target.value);e&&e(a)};return s.jsx("input",{type:"range",className:K("w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer",n),ref:r,onChange:o,...t})});un.displayName="Slider";const hn=l.forwardRef(({className:n,onCheckedChange:e,...t},r)=>{const o=i=>{e&&e(i.target.checked)};return s.jsxs("div",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",ref:r,onChange:o,...t}),s.jsx("div",{className:K("w-11 h-6 bg-neutral-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-blue-600",n)})]})});hn.displayName="Switch";const Me=({onSuccess:n,variant:e="outline",className:t=""})=>{const{logout:r}=De(),[o,i]=l.useState(!1),a=async()=>{i(!0);try{await r(),n&&n()}catch{}finally{i(!1)}};return s.jsx(ct,{variant:e,onClick:a,disabled:o,className:t,children:o?"Logging out...":"Logout"})},mn=({isOpen:n,onClose:e})=>{const t=ke(),r=[{path:"/",label:"Dashboard",icon:s.jsx(ze,{size:20})},{path:"/strategies",label:"Trading Strategies",icon:s.jsx(xe,{size:20})},{path:"/account",label:"Account",icon:s.jsx(be,{size:20})},{path:"/charts",label:"Market Analysis",icon:s.jsx(We,{size:20})},{path:"/performance",label:"Performance",icon:s.jsx(Ke,{size:20})},{path:"/chat",label:"Community Chat",icon:s.jsx(Je,{size:20})},{path:"/extension",label:"Chrome Extension",icon:s.jsx(Ge,{size:20})},{path:"/settings",label:"Settings",icon:s.jsx(je,{size:20})}];return n?s.jsxs("div",{id:"mobile-navigation",className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true","aria-label":"Mobile navigation menu",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:e,"aria-hidden":"true"}),s.jsxs("nav",{id:"mobile-nav-panel",className:"relative flex flex-col w-full max-w-xs bg-neutral-800 text-white h-full shadow-xl","aria-label":"Mobile navigation",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(xe,{className:"h-8 w-8 text-blue-400 mr-2","aria-hidden":"true"}),s.jsx("h2",{className:"text-xl font-bold",children:"TradingBot"})]}),s.jsx("button",{onClick:e,className:"p-2 rounded-md text-neutral-400 hover:text-white hover:bg-neutral-700 transition-colors","aria-label":"Close navigation menu",children:s.jsx(Xe,{size:20,"aria-hidden":"true"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("ul",{className:"p-4 space-y-2",role:"list",children:r.map(o=>s.jsx("li",{children:s.jsxs(ce,{to:o.path,onClick:e,className:`
                    flex items-center p-3 rounded-md transition-all duration-200 touch-target
                    ${t.pathname===o.path?"bg-blue-700 text-white":"text-neutral-300 hover:bg-neutral-700 hover:text-white"}
                  `,"aria-label":o.label,"aria-current":t.pathname===o.path?"page":void 0,children:[s.jsx("span",{className:"flex-shrink-0 mr-3","aria-hidden":"true",children:o.icon}),s.jsx("span",{className:"font-medium",children:o.label})]})},o.path))})}),s.jsx("div",{className:"p-4 border-t border-neutral-700",children:s.jsxs("div",{className:"text-sm text-neutral-400",children:[s.jsx("p",{children:"Poloniex Trading Platform"}),s.jsx("p",{className:"text-xs mt-1",children:"Version 1.0.0"})]})})]})]}):null},fn=()=>{const[n]=l.useState(3),{hasStoredCredentials:e}=nt(),{isMobileMenuOpen:t,toggleMobileMenu:r,closeMobileMenu:o,isMobile:i}=st(),{isLoggedIn:a,loading:c}=De();return s.jsxs(s.Fragment,{children:[s.jsxs("nav",{className:"bg-white border-b border-neutral-200 px-4 py-2.5 flex justify-between items-center",role:"banner","aria-label":"Main navigation",children:[s.jsxs("div",{className:"flex items-center",children:[i&&s.jsx("button",{id:"mobile-menu-toggle",onClick:r,className:"mr-3 p-2 rounded-md text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 transition-colors touch-target","aria-label":"Toggle mobile menu","aria-expanded":t?"true":"false",children:s.jsx(Ye,{className:"h-6 w-6","aria-hidden":"true"})}),s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-blue-600",children:[s.jsx("span",{className:"hidden sm:inline",children:"Poloniex Futures"}),s.jsx("span",{className:"sm:hidden",children:"Poloniex"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsx("div",{className:"relative",children:s.jsxs("button",{className:"p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-md transition-colors touch-target","aria-label":`Notifications${n>0?` (${n} new)`:" (none)"}`,children:[s.jsx(_t,{className:"h-5 w-5 sm:h-6 sm:w-6","aria-hidden":"true"}),n>0&&s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full min-w-[1.25rem]","aria-hidden":"true",children:n>99?"99+":n})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:c?s.jsxs("div",{className:"flex items-center p-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:"Loading authentication status"})]}):a?s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"hidden sm:flex"}),s.jsxs(ce,{to:"/account",className:"flex items-center p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-md transition-colors touch-target","aria-label":"Go to My Account",children:[s.jsx(be,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-1 sm:mr-2","aria-hidden":"true"}),s.jsx("span",{className:"hidden md:inline-block text-sm font-medium",children:e?"My Account":"Connect Account"}),s.jsx("span",{className:"md:hidden text-sm font-medium",children:e?"Account":"Connect"})]}),s.jsx(Me,{variant:"outline",className:"hidden sm:flex items-center px-3 py-1.5 text-sm"}),s.jsx("div",{className:"sm:hidden",children:s.jsx(Me,{variant:"outline",className:"flex items-center p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-md transition-colors touch-target"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ce,{to:"/login",className:"flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium","aria-label":"Login to your account",children:[s.jsx(Tt,{className:"h-4 w-4 mr-1 sm:mr-2","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Login"})]}),s.jsxs(ce,{to:"/account",className:"flex items-center p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-md transition-colors touch-target","aria-label":"Connect Account",children:[s.jsx(be,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-1 sm:mr-2","aria-hidden":"true"}),s.jsx("span",{className:"hidden md:inline-block text-sm font-medium",children:"Connect Account"}),s.jsx("span",{className:"md:hidden text-sm font-medium",children:"Connect"})]})]})})]})]}),s.jsx(mn,{isOpen:t,onClose:o})]})};var de;(function(n){n.MOVING_AVERAGE_CROSSOVER="MovingAverageCrossover",n.MA_CROSSOVER="MovingAverageCrossover",n.RSI="RSI",n.MACD="MACD",n.BOLLINGER_BANDS="BollingerBands",n.BREAKOUT="Breakout",n.CUSTOM="Custom"})(de||(de={}));const H=Array.from({length:100},(n,e)=>{const t=5e4+Math.random()*5e3,r=t*.01,o=Date.now()-(99-e)*60*1e3,i=t+(Math.random()-.5)*r,a=i+Math.random()*r,c=i-Math.random()*r,d=c+Math.random()*(a-c);return{pair:"BTC-USDT",timestamp:o,open:i,high:a,low:c,close:d,volume:100+Math.random()*900}});de.MA_CROSSOVER,new Date().toISOString(),new Date().toISOString(),de.RSI,new Date(Date.now()-10080*60*1e3).toISOString(),new Date(Date.now()-10080*60*1e3).toISOString(),de.BREAKOUT,new Date(Date.now()-336*60*60*1e3).toISOString(),new Date(Date.now()-336*60*60*1e3).toISOString();const z=[{id:"mock-trade-1",pair:"BTC-USDT",timestamp:Date.now()-10800*1e3,type:"BUY",price:51234.56,amount:.05,total:2561.73,strategyId:"1",status:"COMPLETED"},{id:"mock-trade-2",pair:"BTC-USDT",timestamp:Date.now()-7200*1e3,type:"SELL",price:51934.12,amount:.05,total:2596.71,strategyId:"1",status:"COMPLETED"},{id:"mock-trade-3",pair:"ETH-USDT",timestamp:Date.now()-3600*1e3,type:"BUY",price:3245.78,amount:.25,total:811.45,strategyId:"2",status:"COMPLETED"},{id:"mock-trade-4",pair:"BTC-USDT",timestamp:Date.now()-1800*1e3,type:"BUY",price:52100.45,amount:.03,total:1563.01,strategyId:"3",status:"PENDING"}];function lt(n,e){let t;try{t=n()}catch{return}return{getItem:o=>{var i;const a=d=>d===null?null:JSON.parse(d,void 0),c=(i=t.getItem(o))!=null?i:null;return c instanceof Promise?c.then(a):a(c)},setItem:(o,i)=>t.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>t.removeItem(o)}}const Ce=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Ce(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Ce(r)(t)}}}},pn=(n,e)=>(t,r,o)=>{let i={storage:lt(()=>localStorage),partialize:x=>x,version:0,merge:(x,y)=>({...y,...x}),...e},a=!1;const c=new Set,d=new Set;let m=i.storage;if(!m)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...x)},r,o);const h=()=>{const x=i.partialize({...r()});return m.setItem(i.name,{state:x,version:i.version})},u=o.setState;o.setState=(x,y)=>(u(x,y),h());const f=n((...x)=>(t(...x),h()),r,o);o.getInitialState=()=>f;let p;const E=()=>{var x,y;if(!m)return;a=!1,c.forEach(b=>{var w;return b((w=r())!=null?w:f)});const _=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(x=r())!=null?x:f))||void 0;return Ce(m.getItem.bind(m))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate){const w=i.migrate(b.state,b.version);return w instanceof Promise?w.then(I=>[!0,I]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[I,O]=b;if(p=i.merge(O,(w=r())!=null?w:f),t(p,!0),I)return h()}).then(()=>{_?.(p,void 0),p=r(),a=!0,d.forEach(b=>b(p))}).catch(b=>{_?.(void 0,b)})};return o.persist={setOptions:x=>{i={...i,...x},x.storage&&(m=x.storage)},clearStorage:()=>{m?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>E(),hasHydrated:()=>a,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},i.skipHydration||E(),p||f},gn=pn,xn=n=>(e,t,r)=>(r.setState=(o,i,...a)=>{const c=typeof o=="function"?Ft(o):o;return e(c,i,...a)},n(r.setState,t,r)),bn=xn,dt="poloniex-trading-platform-key",Oe=n=>{try{return Ne.AES.encrypt(n,dt).toString()}catch{return n}},Ue=n=>{try{return Ne.AES.decrypt(n,dt).toString(Ne.enc.Utf8)}catch{return n}},wn=()=>({getItem:n=>{const e=localStorage.getItem(n);if(!e)return null;try{const t=JSON.parse(e);return t.state?.apiCredentials&&(t.state.apiCredentials.apiKey&&(t.state.apiCredentials.apiKey=Ue(t.state.apiCredentials.apiKey)),t.state.apiCredentials.apiSecret&&(t.state.apiCredentials.apiSecret=Ue(t.state.apiCredentials.apiSecret))),JSON.stringify(t)}catch{return e}},setItem:(n,e)=>{try{const t=JSON.parse(e);t.state?.apiCredentials&&(t.state.apiCredentials.apiKey&&(t.state.apiCredentials.apiKey=Oe(t.state.apiCredentials.apiKey)),t.state.apiCredentials.apiSecret&&(t.state.apiCredentials.apiSecret=Oe(t.state.apiCredentials.apiSecret))),localStorage.setItem(n,JSON.stringify(t))}catch{localStorage.setItem(n,e)}},removeItem:n=>{localStorage.removeItem(n)}}),Sn={apiCredentials:{apiKey:"",apiSecret:"",isLiveTrading:!1},ui:{darkMode:!1,showExtension:!0,notifications:{email:!0,trade:!0,price:!0,chat:!0}},trading:{defaultPair:"BTC_USDT",mockMode:!0},toasts:[]},we=Nt()(gn(bn(n=>({...Sn,setApiCredentials:e=>n(t=>{Object.assign(t.apiCredentials,e)}),clearApiCredentials:()=>n(e=>{e.apiCredentials={apiKey:"",apiSecret:"",isLiveTrading:!1}}),setDarkMode:e=>n(t=>{t.ui.darkMode=e,e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),setShowExtension:e=>n(t=>{t.ui.showExtension=e}),setNotifications:e=>n(t=>{Object.assign(t.ui.notifications,e)}),setDefaultPair:e=>n(t=>{t.trading.defaultPair=e}),setMockMode:e=>n(t=>{t.trading.mockMode=e}),addToast:e=>n(t=>{const r={...e,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:Date.now()};t.toasts.push(r)}),removeToast:e=>n(t=>{const r=t.toasts.findIndex(o=>o.id===e);r!==-1&&t.toasts.splice(r,1)}),clearToasts:()=>n(e=>{e.toasts=[]})})),{name:"poloniex-app-storage",storage:lt(()=>wn()),partialize:n=>({apiCredentials:n.apiCredentials,ui:n.ui,trading:n.trading})})),vn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://polytrade-be.up.railway.app",VITE_POLONIEX_API_BASE_URL:"https://api.poloniex.com/v3/futures",VITE_POLONIEX_API_KEY:"6THJQ6FE-X32VSUH8-I8HQRELE-SVHRZ35Z",VITE_POLONIEX_API_SECRET:"5e719df6e3945cec371e905996322fabcc3b038a8f5e870b601c31c0bc8b7af6d5ec6349b4d50f12f80a13dde3f9c64ecc0882b1ee384e9b7c658a153c9d6b57",VITE_POLONIEX_KEY:"6THJQ6FE-X32VSUH8-I8HQRELE-SVHRZ35Z",VITE_POLONIEX_SECRET:"5e719df6e3945cec371e905996322fabcc3b038a8f5e870b601c31c0bc8b7af6d5ec6349b4d50f12f80a13dde3f9c64ecc0882b1ee384e9b7c658a153c9d6b57",VITE_POLONIEX_WS_URL:"wss://futures-apiws.poloniex.com",VITE_WS_URL:"wss://polytrade-be.up.railway.app"},ne=typeof window<"u"&&window.location&&window.location.hostname.includes("webcontainer-api.io"),yn=typeof window<"u"&&window.location&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),P=(n,e="")=>{const t=vn,r=t?t[n]:void 0;return r!==void 0?String(r):e},En=()=>P("VITE_POLONIEX_API_KEY",""),_n=()=>P("VITE_POLONIEX_API_SECRET",""),Tn=(n="futures")=>{const e=P("VITE_POLONIEX_API_BASE_URL","");if(e)return e;const t=P("NEXT_PUBLIC_API_URL","");return t||(n==="futures"?"/api/futures":"/api/spot")},Nn=()=>{const n=P("VITE_FORCE_MOCK_MODE","").toLowerCase();return n==="true"||n==="1"},In=()=>{const n=P("VITE_DISABLE_MOCK_MODE","").toLowerCase();return n==="true"||n==="1"},ue=(n=!1)=>Nn()?!0:(In()||ne||yn,!n),Cn=()=>{if(typeof window<"u"&&window.location){const r=window.location.hostname,o=window.location.protocol||"http:";return r==="localhost"||r==="127.0.0.1"?"http://localhost:3000":r.includes("railway.app")||r.includes("up.railway.app")?"https://polytrade-be.up.railway.app":r.includes("webcontainer-api.io")?`${o}//${r}:8765`:window.location.origin}const n=P("VITE_BACKEND_URL");if(n)return n;const e=P("VITE_RAILWAY_PUBLIC_DOMAIN");if(e)return`https://${e}`;const t=P("VITE_RAILWAY_PRIVATE_DOMAIN");return t?`https://${t}`:"http://localhost:8765"};var kn=Object.defineProperty,jn=(n,e,t)=>e in n?kn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,q=(n,e,t)=>jn(n,typeof e!="symbol"?e+"":e,t);const An=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),ye=()=>{const n=An();return F.create({baseURL:Tn(),timeout:3e4,headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}})};class $e extends Error{constructor(e){super(e),this.name="PoloniexConnectionError"}}class Dn extends Error{constructor(e){super(e),this.name="PoloniexAuthenticationError"}}const Ee={PUBLIC_REQUESTS_PER_SECOND:10,PRIVATE_REQUESTS_PER_SECOND:5,ORDERS_PER_SECOND:2},Be=n=>n instanceof Error?n:new Error(String(n)),ut=class se{constructor(){q(this,"mockMode",!0),q(this,"lastBalanceUpdate",0),q(this,"cachedBalance",null),q(this,"historicalData",new Map),q(this,"rateLimitQueue",new Map),this.loadCredentials()}static getInstance(){return se.instance||(se.instance=new se),se.instance}loadCredentials(){try{const e=we.getState();this.mockMode=ue(!0)||!e.apiCredentials.isLiveTrading}catch{this.mockMode=ue(!1)}}async checkRateLimit(e){const t=Date.now(),r=`${e}_requests`,o=e==="public"?Ee.PUBLIC_REQUESTS_PER_SECOND:e==="private"?Ee.PRIVATE_REQUESTS_PER_SECOND:Ee.ORDERS_PER_SECOND;this.rateLimitQueue.has(r)||this.rateLimitQueue.set(r,[]);const i=this.rateLimitQueue.get(r),a=t-1e3;for(;i.length>0&&i[0]<a;)i.shift();if(i.length>=o){const c=i[0]??t,d=Math.max(0,1e3-(t-c));d>0&&await new Promise(m=>setTimeout(m,d))}i.push(t)}async getAccountBalance(){if(this.cachedBalance&&Date.now()-this.lastBalanceUpdate<1e4)return this.cachedBalance;try{if(this.mockMode)return{totalAmount:"15478.23",availableAmount:"12345.67",accountEquity:"15820.45",unrealizedPnL:"342.22",todayPnL:"156.78",todayPnLPercentage:"1.02"};const t=await ye().get("/account/balances");return this.cachedBalance=t.data,this.lastBalanceUpdate=Date.now(),this.cachedBalance}catch(e){throw F.isAxiosError(e)&&e.response?.status===401?new Dn("Authentication failed - please check your API credentials"):new $e(`Failed to fetch account balance: ${Be(e).message}`)}}async getMarketData(e){try{return this.mockMode?this.generateMockMarketData(100):(await this.checkRateLimit("public"),(await ye().get(`/klines/${e}`,{params:{interval:"5m",limit:100}})).data)}catch(t){throw new $e(`Failed to fetch market data for ${e}: ${Be(t).message}`)}}generateMockMarketData(e){return Array.from({length:e},(t,r)=>{const o=5e4+Math.random()*5e3,i=o*.01,a=Date.now()-(e-1-r)*60*1e3,c=o+(Math.random()-.5)*i,d=c+Math.random()*i,m=c-Math.random()*i,h=m+Math.random()*(d-m);return[new Date(a).toISOString(),c.toString(),d.toString(),m.toString(),h.toString(),(100+Math.random()*900).toString()]})}async getHistoricalData(e,t,r){const o=`${e}-${t}-${r}`;if(this.historicalData.has(o))return this.historicalData.get(o);try{if(this.mockMode){const d=this.generateMockHistoricalData(t,r);return this.historicalData.set(o,d),d}const c=(await ye().get(`/klines/${e}`,{params:{interval:"1h",startTime:new Date(t).getTime(),endTime:new Date(r).getTime(),limit:1e3}})).data.map(d=>({pair:e,timestamp:new Date(d[0]).getTime(),open:parseFloat(d[1]),high:parseFloat(d[2]),low:parseFloat(d[3]),close:parseFloat(d[4]),volume:parseFloat(d[5])}));return this.historicalData.set(o,c),c}catch{const i=this.generateMockHistoricalData(t,r);return this.historicalData.set(o,i),i}}generateMockHistoricalData(e,t){const r=new Date(e).getTime(),o=new Date(t).getTime(),i=3600*1e3,a=[];let c=5e4;for(let d=r;d<=o;d+=i){const m=c*.01,h=c+(Math.random()-.5)*m,u=h+Math.random()*m,f=h-Math.random()*m,p=f+Math.random()*(u-f);a.push({pair:"BTC-USDT",timestamp:d,open:h,high:u,low:f,close:p,volume:100+Math.random()*900}),c=p}return a}async placeOrder(e,t,r,o,i){if(this.mockMode){const a=`mock_${Date.now()}`;return{orderId:a,id:a,status:"filled"}}throw new Error("Order placement not implemented for live trading")}async placeConditionalOrder(e,t,r,o,i){if(this.mockMode)return{orderId:`mock_conditional_${Date.now()}`,status:"pending"};throw new Error("Conditional order placement not implemented for live trading")}onPositionUpdate(e){}onLiquidationWarning(e){}onMarginUpdate(e){}};q(ut,"instance");let Pn=ut;const re=Pn.getInstance();var A=(n=>(n.DISCONNECTED="disconnected",n.CONNECTING="connecting",n.CONNECTED="connected",n.RECONNECTING="reconnecting",n.FAILED="failed",n))(A||{}),Q=(n=>(n.EXPONENTIAL_BACKOFF="exponential_backoff",n.LINEAR_BACKOFF="linear_backoff",n.IMMEDIATE="immediate",n.NONE="none",n))(Q||{}),pe=(n=>(n.CONNECTION_STATE_CHANGED="connectionStateChanged",n.CONNECTION_ESTABLISHED="connectionEstablished",n.CONNECTION_LOST="connectionLost",n.MARKET_DATA="marketData",n.TICKER_UPDATE="tickerUpdate",n.ORDER_BOOK_UPDATE="orderBookUpdate",n.TRADE_EXECUTED="tradeExecuted",n.KLINE_UPDATE="klineUpdate",n.ACCOUNT_UPDATE="accountUpdate",n.POSITION_UPDATE="positionUpdate",n.ORDER_UPDATE="orderUpdate",n.BALANCE_UPDATE="balanceUpdate",n.MARKET_SUBSCRIBED="marketSubscribed",n.MARKET_UNSUBSCRIBED="marketUnsubscribed",n.SUBSCRIBE_MARKET="subscribeMarket",n.UNSUBSCRIBE_MARKET="unsubscribeMarket",n.WEBSOCKET_ERROR="websocketError",n.SUBSCRIPTION_ERROR="subscriptionError",n.RECONNECTION_ERROR="reconnectionError",n))(pe||{}),ht=(n=>(n.TICKER="/contractMarket/ticker",n.TICKER_V2="/contractMarket/tickerV2",n.LEVEL2="/contractMarket/level2",n.LEVEL3="/contractMarket/level3",n.EXECUTION="/contractMarket/execution",n.KLINE="/contractMarket/candles",n.WALLET="/contractAccount/wallet",n.POSITION="/contractAccount/position",n.ORDERS="/contractAccount/orders",n.TRADES="/contractAccount/trades",n.FUNDING="/contract/funding",n.SYSTEM="/contract/system",n))(ht||{}),Rn={};const Ln=()=>{const n=P("VITE_WS_URL");if(n)return n;const e=Cn();if(e)return e.startsWith("https://")?e.replace("https://","wss://"):e.startsWith("http://")?e.replace("http://","ws://"):e;const t=P("VITE_RAILWAY_PUBLIC_DOMAIN");if(t)return`wss://${t}`;const r=P("VITE_RAILWAY_PRIVATE_DOMAIN");if(r)return`wss://${r}`;if(typeof window<"u"&&window.location){const o=window.location.hostname,i=window.location.protocol;if(o==="localhost"||o==="127.0.0.1")return`${i==="https:"?"wss:":"ws:"}//${o}:8765`;if(o.includes("railway.app")||o.includes("up.railway.app"))return`${i==="https:"?"wss:":"ws:"}//${o}`;if(o.includes("webcontainer-api.io"))return`${i==="https:"?"wss:":"ws:"}//${o}:8765`}return"ws://localhost:8765"},mt=()=>({url:Ln(),options:{transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3,randomizationFactor:.5,forceNew:!0,upgrade:!0,rememberUpgrade:!1}}),ft=n=>{try{const e=new URL(n);return e.protocol==="ws:"||e.protocol==="wss:"}catch{return!1}},Mn=()=>{const r=!!(typeof import.meta<"u"?import.meta:void 0)?.env?.PROD||typeof process<"u"&&!!Rn&&!0,o=P("VITE_RAILWAY_PUBLIC_DOMAIN")!=="";return r&&o?{usePolling:!0,preferWebSocket:!0,maxRetries:3}:{usePolling:!1,preferWebSocket:!0,maxRetries:5}},Fe=()=>{const n=mt(),e=Mn();return{url:n.url,isValidUrl:ft(n.url),environment:{isDev:!1,isProd:!0,isRailway:P("VITE_RAILWAY_PUBLIC_DOMAIN")!=="",backendUrl:P("VITE_BACKEND_URL"),wsUrl:P("VITE_WS_URL")},strategy:e,options:n.options}};var On=Object.defineProperty,Un=(n,e,t)=>e in n?On(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$n=(n,e,t)=>Un(n,e+"",t);class Bn{constructor(){$n(this,"socket",null)}async connect(e){return this.connectToBackend(e)}async connectToBackend(e){const t=mt();if(!t.url)throw new Error("WebSocket URL not configured");if(!ft(t.url))throw console.error("Invalid WebSocket URL format:",t.url),console.debug("WebSocket Debug Info:",Fe()),new Error("Invalid WebSocket URL format");const r={...t.options};return e&&(r.auth={token:e}),this.socket=et(t.url,r),new Promise((o,i)=>{const a=setTimeout(()=>{console.error("WebSocket connection timeout to:",t.url),i(new Error(`Connection timeout to ${t.url}`))},t.options.timeout);this.socket.on("connect",()=>{clearTimeout(a),o(this.socket)}),this.socket.on("connect_error",c=>{clearTimeout(a),console.error("WebSocket connection error:",c.message),console.debug("Failed URL:",t.url),console.debug("Debug Info:",Fe()),i(new Error(`Connection error: ${c.message}`))})})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}isConnected(){return!!(this.socket&&this.socket.connected)}isUsingPoloniexDirect(){return!1}getConnectionInfo(){return{isConnected:this.isConnected(),isUsingPoloniexDirect:!1,socket:this.socket}}}var Fn=Object.defineProperty,Vn=(n,e,t)=>e in n?Fn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fe=(n,e,t)=>Vn(n,typeof e!="symbol"?e+"":e,t);class _e{constructor(e,t){this.poloniexWs=e,this.socket=t,fe(this,"eventListeners",new Map),fe(this,"subscriptions",new Set),fe(this,"pendingMessages",[]),fe(this,"offlineData",new Map)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(t)}off(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e)?.delete(t)}notifyListeners(e,t){(e===pe.MARKET_DATA||e===pe.TRADE_EXECUTED||e===pe.TICKER_UPDATE)&&this.saveOfflineData(e,t),this.eventListeners.get(e)?.forEach(r=>{try{r(t)}catch(o){console.error(`Error in ${e} event listener:`,o instanceof Error?o.message:String(o))}})}saveOfflineData(e,t){try{this.offlineData.set(e,t),typeof window<"u"&&localStorage.setItem("websocket_offline_data",JSON.stringify(Array.from(this.offlineData.entries())))}catch(r){console.error("Error saving offline data:",r)}}loadOfflineData(){try{if(typeof window<"u"){const e=localStorage.getItem("websocket_offline_data");e&&(this.offlineData=new Map(JSON.parse(e)))}}catch(e){console.error("Error loading offline data:",e)}}getOfflineData(e){return this.offlineData.get(e)}subscribeToMarket(e){if(this.subscriptions.add(e),this.poloniexWs&&this.poloniexWs.readyState===WebSocket.OPEN){const t={id:Date.now(),type:"subscribe",topic:ht.TICKER_V2,symbols:[e.replace("-","_")],privateChannel:!1,response:!0};this.poloniexWs.send(JSON.stringify(t))}else this.socket&&this.socket.emit("subscribeMarket",{pair:e})}unsubscribeFromMarket(e){if(this.subscriptions.delete(e),this.poloniexWs&&this.poloniexWs.readyState===WebSocket.OPEN){const t={id:Date.now(),type:"unsubscribe",topic:"/contractMarket/tickerV2",symbols:[e.replace("-","_")],response:!0};this.poloniexWs.send(JSON.stringify(t))}else this.socket&&this.socket.emit("unsubscribeMarket",{pair:e})}send(e,t){if(this.poloniexWs&&this.poloniexWs.readyState===WebSocket.OPEN){const o={event:e,...t&&typeof t=="object"?t:{}};this.poloniexWs.send(JSON.stringify(o))}else this.socket?this.socket.emit(e,t):this.pendingMessages.push({event:e,data:t})}resubscribe(){this.subscriptions.forEach(e=>{if(this.poloniexWs&&this.poloniexWs.readyState===WebSocket.OPEN){const t={id:Date.now(),type:"subscribe",topic:"/contractMarket/tickerV2",symbols:[e.replace("-","_")],privateChannel:!1,response:!0};this.poloniexWs.send(JSON.stringify(t))}else this.socket&&this.socket.emit("subscribeMarket",{pair:e})})}sendPendingMessages(){for(;this.pendingMessages.length>0;){const e=this.pendingMessages.shift();e&&this.send(e.event,e.data)}}subscribeToPoloniexV3(e,t){if(this.poloniexWs&&this.poloniexWs.readyState===WebSocket.OPEN){const r={id:Date.now(),type:"subscribe",topic:e,symbols:t||[],privateChannel:!1,response:!0};this.poloniexWs.send(JSON.stringify(r))}}unsubscribeFromPoloniexV3(e){if(this.poloniexWs&&this.poloniexWs.readyState===WebSocket.OPEN){const t={id:Date.now(),type:"unsubscribe",topic:e,response:!0};this.poloniexWs.send(JSON.stringify(t))}}handlePoloniexV3Message(e){try{switch(e.type){case"message":this.handlePoloniexV3DataMessage(e);break;case"welcome":break;case"pong":break;case"error":console.error("Poloniex V3 error:",e);break;default:}}catch(t){console.error("Error handling Poloniex V3 message:",t)}}handlePoloniexV3DataMessage(e){try{const t=e.topic;if(t==="/contractMarket/tickerV2"){const r=e.data;if(r){const o={pair:r.symbol?.replace("_","-")||"BTC-USDT",timestamp:Date.now(),open:parseFloat(r.open)||0,high:parseFloat(r.high)||0,low:parseFloat(r.low)||0,close:parseFloat(r.price)||0,volume:parseFloat(r.volume)||0};this.notifyListeners("marketData",o)}}else if(t==="/contractMarket/execution"){const r=e.data;if(r){const o={id:r.tradeId,pair:r.symbol?.replace("_","_")||"BTC-USDT",price:parseFloat(r.price)||0,amount:parseFloat(r.size)||0,side:r.side?.toLowerCase()==="sell"?"sell":"buy",timestamp:r.ts||Date.now()};this.notifyListeners("tradeExecuted",o)}}else t==="/contractMarket/level2"?this.notifyListeners("orderBookUpdate",e.data):t==="/contractMarket/level3"&&this.notifyListeners("fullOrderBook",e.data)}catch(t){console.error("Error handling Poloniex V3 data message:",t)}}setupSocketIOHandlers(){this.socket&&(this.socket.on("connect",()=>{this.notifyListeners("connectionStateChanged","connected")}),this.socket.on("disconnect",e=>{this.notifyListeners("connectionStateChanged","disconnected")}),this.socket.on("marketData",e=>{this.notifyListeners("marketData",e)}),this.socket.on("tradeExecuted",e=>{this.notifyListeners("tradeExecuted",e)}),this.socket.on("error",e=>{console.error("Socket.IO error:",e),this.notifyListeners("error",e)}))}getSubscriptions(){return Array.from(this.subscriptions)}clearSubscriptions(){this.subscriptions.clear()}getEventListenersCount(e){return this.eventListeners.get(e)?.size||0}getAllEventListeners(){return new Map(this.eventListeners)}}var Hn=Object.defineProperty,zn=(n,e,t)=>e in n?Hn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Z=(n,e,t)=>zn(n,typeof e!="symbol"?e+"":e,t);class Te{constructor(e,t){this.poloniexWs=e,this.socket=t,Z(this,"pingTimer",null),Z(this,"poloniexPingTimer",null),Z(this,"connectionStats",{connectTime:null,disconnectTime:null,lastPingTime:null,lastPongTime:null,pingLatency:null,reconnectAttempts:0,successfulReconnects:0,failedReconnects:0,totalDisconnects:0,connectionUptime:0,connectionDowntime:0}),Z(this,"PING_INTERVAL",3e4),Z(this,"PING_TIMEOUT",1e4)}startPingTimer(){this.stopPingTimer(),this.pingTimer=setInterval(()=>{this.connectionStats.lastPingTime=Date.now(),this.socket&&(this.socket.emit("ping",{timestamp:Date.now()}),setTimeout(()=>{const e=this.connectionStats.lastPongTime||0,t=this.connectionStats.lastPingTime||0,r=Date.now()-Math.max(e,t);(r<=0||r>this.PING_TIMEOUT)&&this.socket&&this.socket.disconnect()},this.PING_TIMEOUT))},this.PING_INTERVAL)}startPoloniexV3PingTimer(){this.stopPoloniexV3PingTimer(),this.poloniexPingTimer=setInterval(()=>{if(this.poloniexWs&&this.poloniexWs.readyState===WebSocket.OPEN){const e={id:Date.now(),type:"ping"};this.poloniexWs.send(JSON.stringify(e)),this.connectionStats.lastPingTime=Date.now()}},this.PING_INTERVAL)}stopPingTimer(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)}stopPoloniexV3PingTimer(){this.poloniexPingTimer&&(clearInterval(this.poloniexPingTimer),this.poloniexPingTimer=null)}updateConnectionStats(e){this.connectionStats={...this.connectionStats,...e}}getConnectionStats(){const e=Date.now();return this.connectionStats.connectTime?this.connectionStats.connectionUptime=e-this.connectionStats.connectTime:this.connectionStats.disconnectTime&&(this.connectionStats.connectionDowntime=e-this.connectionStats.disconnectTime),{...this.connectionStats}}getConnectionHealth(){const e=Date.now(),t=this.connectionStats.connectTime?e-this.connectionStats.connectTime:0;return{state:A.CONNECTED,isHealthy:!0,uptime:t,lastPing:this.connectionStats.lastPingTime||0,latency:this.connectionStats.pingLatency,reconnectAttempts:this.connectionStats.reconnectAttempts}}handlePong(e){this.connectionStats.lastPongTime=Date.now(),this.connectionStats.lastPingTime&&(this.connectionStats.pingLatency=this.connectionStats.lastPongTime-this.connectionStats.lastPingTime)}isConnectionHealthy(){const e=Date.now(),t=this.connectionStats.lastPingTime||0,r=this.connectionStats.lastPongTime||0;return!(e-Math.max(t,r)>this.PING_INTERVAL*2)}getConnectionStatus(){const e=this.getConnectionStats();return{connected:e.connectTime!==null,uptime:this.formatDuration(e.connectionUptime),lastPing:e.lastPingTime?new Date(e.lastPingTime).toLocaleTimeString():"Never",latency:e.pingLatency?`${e.pingLatency}ms`:"Unknown",health:this.isConnectionHealthy()?"Good":"Poor"}}formatDuration(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:e<36e5?`${(e/6e4).toFixed(1)}m`:`${(e/36e5).toFixed(1)}h`}resetConnectionStats(){this.connectionStats={connectTime:null,disconnectTime:null,lastPingTime:null,lastPongTime:null,pingLatency:null,reconnectAttempts:0,successfulReconnects:0,failedReconnects:0,totalDisconnects:0,connectionUptime:0,connectionDowntime:0}}monitorConnectionHealth(){setInterval(()=>{this.getConnectionHealth(),this.isConnectionHealthy()},6e4)}}var Wn=Object.defineProperty,Kn=(n,e,t)=>e in n?Wn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e,t)=>Kn(n,typeof e!="symbol"?e+"":e,t);class Jn{constructor(e,t){this.onReconnect=e,this.onConnectionFailed=t,B(this,"reconnectAttempts",0),B(this,"maxReconnectAttempts",10),B(this,"initialReconnectDelay",1e3),B(this,"maxReconnectDelay",3e4),B(this,"reconnectionJitter",.5),B(this,"reconnectionStrategy",Q.EXPONENTIAL_BACKOFF),B(this,"reconnectTimer",null),B(this,"connectionStats",{connectTime:null,disconnectTime:null,lastPingTime:null,lastPongTime:null,pingLatency:null,reconnectAttempts:0,successfulReconnects:0,failedReconnects:0,totalDisconnects:0,connectionUptime:0,connectionDowntime:0})}calculateReconnectDelay(){let e;switch(this.reconnectionStrategy){case Q.EXPONENTIAL_BACKOFF:e=Math.min(this.initialReconnectDelay*Math.pow(2,this.reconnectAttempts),this.maxReconnectDelay);break;case Q.LINEAR_BACKOFF:e=Math.min(this.initialReconnectDelay*(this.reconnectAttempts+1),this.maxReconnectDelay);break;case Q.IMMEDIATE:e=100;break;case Q.NONE:default:return-1}const t=1+(Math.random()*2-1)*this.reconnectionJitter;return Math.floor(e*t)}reconnect(){if(this.stopReconnectTimer(),this.reconnectAttempts>=this.maxReconnectAttempts){console.log(`Max reconnection attempts (${this.maxReconnectAttempts}) reached, staying in mock mode`),this.connectionStats.failedReconnects++,this.onConnectionFailed();return}const e=this.calculateReconnectDelay();if(e<0){this.onConnectionFailed();return}this.reconnectAttempts++,this.connectionStats.reconnectAttempts++,console.log(`Attempting reconnect ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${e}ms`),this.reconnectTimer=setTimeout(async()=>{try{await this.onReconnect(),this.connectionStats.successfulReconnects++,this.resetReconnectAttempts()}catch{this.connectionStats.failedReconnects++,this.reconnect()}},e)}stopReconnectTimer(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}resetReconnectAttempts(){this.reconnectAttempts=0}updateConnectionStats(e){this.connectionStats={...this.connectionStats,...e}}getConnectionStats(){const e=Date.now();return this.connectionStats.connectTime?this.connectionStats.connectionUptime=e-this.connectionStats.connectTime:this.connectionStats.disconnectTime&&(this.connectionStats.connectionDowntime=e-this.connectionStats.disconnectTime),{...this.connectionStats}}getReconnectAttempts(){return this.reconnectAttempts}setReconnectionStrategy(e){this.reconnectionStrategy=e}setReconnectionParameters(e){e.maxReconnectAttempts!==void 0&&(this.maxReconnectAttempts=e.maxReconnectAttempts),e.initialReconnectDelay!==void 0&&(this.initialReconnectDelay=e.initialReconnectDelay),e.maxReconnectDelay!==void 0&&(this.maxReconnectDelay=e.maxReconnectDelay),e.reconnectionJitter!==void 0&&(this.reconnectionJitter=e.reconnectionJitter)}handleConnectionFailure(){this.connectionStats.totalDisconnects++,this.connectionStats.disconnectTime=Date.now(),this.reconnect()}handleSuccessfulConnection(){this.connectionStats.connectTime=Date.now(),this.resetReconnectAttempts()}getConnectionHealth(){const e=Date.now(),t=this.connectionStats.connectTime?e-this.connectionStats.connectTime:0;return{state:this.reconnectAttempts>0?A.RECONNECTING:A.CONNECTED,isHealthy:this.reconnectAttempts===0,uptime:t,lastPing:this.connectionStats.lastPingTime||0,latency:this.connectionStats.pingLatency,reconnectAttempts:this.reconnectAttempts}}forceStop(){this.stopReconnectTimer(),this.reconnectAttempts=0}}var Gn=Object.defineProperty,Xn=(n,e,t)=>e in n?Gn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,W=(n,e,t)=>Xn(n,typeof e!="symbol"?e+"":e,t);const pt=class oe{constructor(){W(this,"connectionManager"),W(this,"reconnectionService"),W(this,"eventHandlerService"),W(this,"healthService"),W(this,"connectionState",A.DISCONNECTED),W(this,"useMockData",!0),this.connectionManager=new Bn,this.reconnectionService=new Jn(this.reconnect.bind(this),this.handleConnectionFailed.bind(this)),this.eventHandlerService=new _e(null,null),this.healthService=new Te(null,null),this.initializeService()}static getInstance(){return oe.instance||(oe.instance=new oe),oe.instance}initializeService(){const e=En()!==void 0&&_n()!==void 0;this.useMockData=ue(e),this.eventHandlerService.loadOfflineData(),typeof window<"u"&&(window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),window.addEventListener("beforeunload",this.cleanup.bind(this)))}handleOnline(){(this.connectionState===A.DISCONNECTED||this.connectionState===A.FAILED)&&this.connect()}handleOffline(){this.connectionState===A.CONNECTED&&(this.connectionState=A.DISCONNECTED)}cleanup(){this.healthService.stopPingTimer(),this.healthService.stopPoloniexV3PingTimer(),this.reconnectionService.forceStop(),this.disconnect()}async reconnect(){try{await this.connect()}catch(e){throw e}}handleConnectionFailed(){this.useMockData=!0,this.connectionState=A.FAILED}async connect(e){if(this.connectionState!==A.CONNECTED&&this.connectionState!==A.CONNECTING){this.connectionState=A.CONNECTING,this.reconnectionService.updateConnectionStats({connectTime:Date.now()});try{this.connectionManager.isUsingPoloniexDirect()?await this.connectToPoloniexV3():await this.connectToBackend(e)}catch{this.useMockData=!0,this.connectionState=A.FAILED}}}async connectToPoloniexV3(){try{const e=await this.connectionManager.connect();this.eventHandlerService=new _e(null,e),this.healthService=new Te(null,e),this.eventHandlerService.setupSocketIOHandlers(),this.healthService.startPoloniexV3PingTimer(),this.connectionState=A.CONNECTED,this.useMockData=!1}catch(e){throw e}}async connectToBackend(e){try{const t=await this.connectionManager.connectToBackend(e);this.eventHandlerService=new _e(null,t),this.healthService=new Te(null,t),this.eventHandlerService.setupSocketIOHandlers(),this.healthService.startPingTimer(),this.connectionState=A.CONNECTED,this.useMockData=!1}catch(t){throw t}}disconnect(){this.connectionManager.disconnect(),this.healthService.stopPingTimer(),this.healthService.stopPoloniexV3PingTimer(),this.reconnectionService.forceStop(),this.connectionState=A.DISCONNECTED}isConnected(){return this.connectionManager.isConnected()}isMockMode(){return this.useMockData}getConnectionState(){return this.connectionState}getConnectionStats(){return this.reconnectionService.getConnectionStats()}subscribeToMarket(e){this.eventHandlerService.subscribeToMarket(e)}unsubscribeFromMarket(e){this.eventHandlerService.unsubscribeFromMarket(e)}send(e,t){this.eventHandlerService.send(e,t)}on(e,t){this.eventHandlerService.on(e,t)}off(e,t){this.eventHandlerService.off(e,t)}subscribeToPoloniexV3(e,t){this.eventHandlerService.subscribeToPoloniexV3(e,t)}unsubscribeFromPoloniexV3(e){this.eventHandlerService.unsubscribeFromPoloniexV3(e)}getConnectionHealth(){return this.healthService.getConnectionHealth()}getConnectionStatus(){return this.healthService.getConnectionStatus()}useConnectionState(){const[e,t]=le.useState(this.connectionState),[r,o]=le.useState(this.useMockData);return le.useEffect(()=>{const i=(...a)=>{const c=a[0];t(c),o(this.useMockData)};return this.on("connectionStateChanged",i),()=>{this.off("connectionStateChanged",i)}},[]),{connectionState:e,isMockMode:r,isConnected:this.isConnected(),connect:this.connect.bind(this),disconnect:this.disconnect.bind(this)}}};W(pt,"instance");let gt=pt;const N=gt.getInstance(),Gs=()=>{const n=gt.getInstance();return{connectionState:n.useConnectionState(),isConnected:n.isConnected(),isMockMode:n.isMockMode(),connect:n.connect.bind(n),disconnect:n.disconnect.bind(n),subscribe:n.subscribeToMarket.bind(n),unsubscribe:n.unsubscribeFromMarket.bind(n),send:n.send.bind(n),on:n.on.bind(n),off:n.off.bind(n),getStats:n.getConnectionStats.bind(n),getHealth:n.getConnectionHealth.bind(n),subscribeToV3:n.subscribeToPoloniexV3.bind(n),unsubscribeFromV3:n.unsubscribeFromPoloniexV3.bind(n)}},Yn=(n="BTC-USDT")=>{const{apiKey:e,apiSecret:t,isLiveTrading:r}=nt(),[o,i]=l.useState(H),[a,c]=l.useState(z),[d,m]=l.useState(null),[h,u]=l.useState(!1),[f,p]=l.useState(null),E=!!(e&&t),[x,y]=l.useState(ue(E)),_=l.useRef(null),b=l.useCallback(C=>{try{return C.filter(g=>Array.isArray(g)&&g.length>=6).map(g=>({pair:n,timestamp:new Date(g[0]).getTime(),open:typeof g[1]=="number"?g[1]:parseFloat(String(g[1])),high:typeof g[2]=="number"?g[2]:parseFloat(String(g[2])),low:typeof g[3]=="number"?g[3]:parseFloat(String(g[3])),close:typeof g[4]=="number"?g[4]:parseFloat(String(g[4])),volume:typeof g[5]=="number"?g[5]:parseFloat(String(g[5]))}))}catch{return[]}},[n]),w=l.useCallback(C=>{try{const g=C||{},v=$=>{if(typeof $=="number")return $;if(typeof $=="string"){const V=parseFloat($);return Number.isFinite(V)?V:0}return 0},S=g.createdAt,k=typeof S=="string"||typeof S=="number"?new Date(S).getTime():Date.now(),U=v(g.quantity),M=v(g.price);return{id:typeof g.id=="string"?g.id:`generated-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,pair:n,timestamp:k,type:String(g.takerSide).toLowerCase()==="buy"?"BUY":"SELL",price:M,amount:U,total:M*U,strategyId:"",status:"COMPLETED"}}catch{return{id:`error-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,pair:n,timestamp:Date.now(),type:"BUY",price:0,amount:0,total:0,strategyId:"",status:"FAILED"}}},[n]),I=l.useCallback(async C=>{if(x){i(H);return}if(ne){i(H);return}u(!0),p(null);try{const g=await re.getMarketData(C);if(g&&Array.isArray(g)){const v=b(g);if(v.length>0)i(v);else throw new Error("No market data returned from API")}else throw new Error("Invalid market data format received from API")}catch(g){p(g)}finally{u(!1)}},[x,b]),O=l.useCallback(async C=>{if(x){c(z);return}if(ne){c(z);return}u(!0);try{const g=[];if(g&&Array.isArray(g)){const v=g.map(w).filter(S=>S.id.indexOf("error-")!==0&&!isNaN(S.price)&&!isNaN(S.amount));if(v.length>0)c(v);else throw new Error("No valid trades returned from API")}else throw new Error("Invalid trades data format received from API")}catch(g){p(g)}finally{u(!1)}},[x,w]),L=l.useCallback(async()=>{if(x){m({totalAmount:"15478.23",availableAmount:"12345.67",accountEquity:"15820.45",unrealizedPnL:"342.22",todayPnL:"156.78",todayPnLPercentage:"1.02"});return}if(ne){m({totalAmount:"15478.23",availableAmount:"12345.67",accountEquity:"15820.45",unrealizedPnL:"342.22",todayPnL:"156.78",todayPnLPercentage:"1.02"});return}u(!0);try{const C=await re.getAccountBalance();m(C)}catch(C){p(C)}finally{u(!1)}},[x]);_.current={fetchMarketData:I,fetchTrades:O,fetchAccountBalance:L};const he=l.useCallback(()=>{u(!0),re.loadCredentials(),p(null),Promise.all([I(n),O(n),L()]).finally(()=>{u(!1)})},[n,I,O,L]);return l.useEffect(()=>{const C=!!(e&&t),g=ue(C)||!r;y(g),r&&C&&!g&&(re.loadCredentials(),u(!0),p(null),_.current&&Promise.all([_.current.fetchMarketData(n),_.current.fetchTrades(n),_.current.fetchAccountBalance()]).finally(()=>{u(!1)}))},[r,e,t,n]),l.useEffect(()=>{if(ne)return y(!0),i(H),c(z),()=>{};Promise.resolve(N.connect()).then(()=>{y(N.isMockMode()),N.isConnected()?N.subscribeToMarket(n):(i(H),c(z))}).catch(v=>{y(!0),i(H),c(z)});const C=(...v)=>{const S=v[0];S?.pair===n&&i(k=>{const U=k.findIndex(M=>M.timestamp===S.timestamp);if(U>=0){const M=[...k];return M[U]=S,M}else return[...k,S].sort(($,V)=>$.timestamp-V.timestamp)})},g=(...v)=>{const S=v[0];S?.pair===n&&c(k=>k.some(U=>U.id===S.id)?k:[S,...k].slice(0,50))};return N.on("marketData",C),N.on("tradeExecuted",g),setTimeout(()=>{_.current&&(_.current.fetchMarketData(n),setTimeout(()=>{_.current&&(_.current.fetchTrades(n),setTimeout(()=>{_.current&&_.current.fetchAccountBalance()},500))},500))},500),()=>{N.off("marketData",C),N.off("tradeExecuted",g),N.isConnected()&&N.unsubscribeFromMarket(n)}},[n]),{marketData:o,trades:a,accountBalance:d,isLoading:h,error:f,isMockMode:x,fetchMarketData:I,fetchTrades:O,fetchAccountBalance:L,refreshApiConnection:he}};function xt(n){return n!==null&&typeof n=="object"&&typeof n.available=="number"&&typeof n.total=="number"&&typeof n.currency=="string"}function qn(n){if(!n||typeof n!="object")throw new Error("Strategy object is required");const e=n,t=["scalping","swing","arbitrage","momentum","mean_reversion","trend_following","ml_based","grid","dca"];let r="momentum";if(typeof e.type=="string"){const o=e.type.toLowerCase(),i=t.find(a=>a===o||a.includes(o));i&&(r=i)}return{id:e.id??`strategy_${Date.now()}`,name:e.name??"Unnamed Strategy",type:r,symbol:e.symbol??"BTC-USDT",timeframe:e.timeframe??"1h",parameters:e.parameters??{},confidence:e.confidence??0,profitPotential:e.profitPotential??0,riskScore:e.riskScore??0,description:e.description??"No description available",learningMetrics:{adaptationRate:e.learningMetrics?.adaptationRate??0,consistencyScore:e.learningMetrics?.consistencyScore??0,marketConditionPerformance:e.learningMetrics?.marketConditionPerformance??{},timestamp:e.learningMetrics?.timestamp??Date.now()},adaptationRate:e.adaptationRate??0,consistencyScore:e.consistencyScore??0,marketConditionPerformance:e.marketConditionPerformance??{},active:e.active??!0}}const Xs=Object.freeze(Object.defineProperty({__proto__:null,ensureStrategyType:qn,isValidAccountBalance:xt},Symbol.toStringTag,{value:"Module"})),bt=l.createContext(void 0),Qn=({children:n,initialPair:e="BTC-USDT"})=>{const{marketData:t,trades:r,accountBalance:o,isLoading:i,error:a,isMockMode:c,refreshApiConnection:d}=Yn(e),m=xt(o)?o:null,[h,u]=l.useState(H),[f,p]=l.useState(z);l.useEffect(()=>{t.length>0&&u(t)},[t]),l.useEffect(()=>{r.length>0&&p(r)},[r]);const[E,x]=l.useState([{id:"1",name:"Moving Average Crossover",type:"automated",algorithm:"MovingAverageCrossover",active:!0,parameters:{fastPeriod:10,slowPeriod:50,pair:"BTC-USDT",timeframe:"1d"},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),performance:{totalPnL:12.5,winRate:.65,tradesCount:24}}]),[y,_]=l.useState(["1"]),[b,w]=l.useState([]),I=l.useCallback(v=>{w(S=>S.includes(v)?S:[...S,v])},[]),O=l.useCallback(()=>{w([])},[]);l.useEffect(()=>{if(a){const v=a instanceof Error?a.message:String(a);I(v)}},[a,I]);const L=v=>{x(S=>[...S,v])},he=v=>{x(S=>S.filter(k=>k.id!==v)),_(S=>S.filter(k=>k!==v))},C=v=>{_(S=>S.includes(v)?S.filter(k=>k!==v):[...S,v])},g=async(v,S,k,U,M)=>{try{return c?{success:!0,orderId:"mock-order-"+Date.now(),pair:v,side:S,type:k,quantity:U,price:M||"market"}:await re.placeOrder(v,S,k,U,M)}catch($){const V=$ instanceof Error?$.message:"Unknown error placing order";throw I(V),new Error(V)}};return s.jsx(bt.Provider,{value:{marketData:h,trades:f,strategies:E,activeStrategies:y,accountBalance:m,isLoading:i,isMockMode:c,addStrategy:L,removeStrategy:he,toggleStrategyActive:C,placeOrder:g,errors:b,addError:I,clearErrors:O,refreshApiConnection:d},children:n})},Zn=()=>{const n=l.useContext(bt);if(n===void 0)throw new Error("useTradingContext must be used within a TradingProvider");return n},es=()=>{const n=ke(),{accountBalance:e,isLoading:t}=Zn(),{isDesktop:r}=st(),[o,i]=l.useState(!1),a=[{path:"/",label:"Dashboard",icon:s.jsx(ze,{size:20})},{path:"/dashboard/live",label:"Live Trading",icon:s.jsx(It,{size:20})},{path:"/strategies",label:"Trading Strategies",icon:s.jsx(xe,{size:20})},{path:"/backtesting",label:"Advanced Backtesting",icon:s.jsx(Ct,{size:20})},{path:"/account",label:"Account",icon:s.jsx(be,{size:20})},{path:"/transactions",label:"Transaction History",icon:s.jsx(kt,{size:20})},{path:"/trades",label:"Trade History",icon:s.jsx(jt,{size:20})},{path:"/charts",label:"Market Analysis",icon:s.jsx(We,{size:20})},{path:"/performance",label:"Performance",icon:s.jsx(Ke,{size:20})},{path:"/chat",label:"Community Chat",icon:s.jsx(Je,{size:20})},{path:"/extension",label:"Chrome Extension",icon:s.jsx(Ge,{size:20})},{path:"/status",label:"System Status",icon:s.jsx(Ae,{size:20})},{path:"/settings",label:"Settings",icon:s.jsx(je,{size:20})}],c=()=>{i(!o)};return r?s.jsxs("aside",{id:"navigation",className:`
        ${o?"w-16":"w-64"}
        bg-neutral-800 text-white transition-all duration-300 ease-in-out
        relative flex-shrink-0
      `,role:"navigation","aria-label":"Main navigation",children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 mt-2",children:[s.jsxs("div",{className:`flex items-center ${o?"justify-center":""}`,children:[s.jsx(xe,{className:"h-8 w-8 text-blue-400 mr-2","aria-hidden":"true"}),!o&&s.jsx("h2",{className:"text-xl font-bold",children:"TradingBot"})]}),s.jsx("button",{onClick:c,className:"p-1 rounded-md text-neutral-400 hover:text-white hover:bg-neutral-700 transition-colors","aria-label":o?"Expand sidebar":"Collapse sidebar","aria-expanded":o?"false":"true",children:o?s.jsx(Ye,{size:20,"aria-hidden":"true"}):s.jsx(At,{size:20,"aria-hidden":"true"})})]}),s.jsx("nav",{"aria-label":"Main menu",children:s.jsx("ul",{className:"space-y-1",role:"list",children:a.map(d=>s.jsx("li",{children:s.jsxs(ce,{to:d.path,className:`
                    flex items-center p-3 rounded-md transition-all duration-200 group
                    ${n.pathname===d.path?"bg-blue-700 text-white":"text-neutral-300 hover:bg-neutral-700 hover:text-white"}
                    ${o?"justify-center":""}
                  `,title:o?d.label:void 0,"aria-label":d.label,"aria-current":n.pathname===d.path?"page":void 0,children:[s.jsx("span",{className:`flex-shrink-0 ${o?"":"mr-3"}`,"aria-hidden":"true",children:d.icon}),!o&&s.jsx("span",{className:"transition-opacity duration-200",children:d.label}),o&&s.jsx("div",{className:`
                      absolute left-full ml-2 px-2 py-1
                      bg-neutral-900 text-white text-sm rounded-md
                      opacity-0 group-hover:opacity-100 transition-opacity duration-200
                      pointer-events-none whitespace-nowrap z-50
                    `,children:d.label})]})},d.path))})})]}),!o&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-neutral-700",children:s.jsxs("div",{className:"bg-neutral-900 p-3 rounded-md",children:[s.jsx("div",{className:"text-sm text-neutral-400 mb-2",children:"Account Balance"}),t?s.jsx("div",{className:"text-sm text-neutral-500",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-lg font-semibold",children:["$",parseFloat(e?.total?.toString()||"0").toFixed(2)," USDT"]}),s.jsx("div",{className:"text-xs text-neutral-400 mt-1",children:e?.currency||"USDT"})]})]})})]}):null},ts=()=>s.jsxs("div",{className:"sr-only-focusable",children:[s.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),s.jsx("a",{href:"#navigation",className:"skip-link",children:"Skip to navigation"})]}),ns=(n,e,t=3e4)=>{const r=l.useRef(void 0);l.useEffect(()=>{if(typeof document>"u"||typeof window>"u")return;const o=()=>{document.hidden||document.visibilityState==="hidden"?r.current=window.setTimeout(()=>{},t):(r.current!==void 0&&(window.clearTimeout(r.current),r.current=void 0),n())};return document.addEventListener("visibilitychange",o),o(),()=>{document.removeEventListener("visibilitychange",o),r.current!==void 0&&window.clearTimeout(r.current)}},[n,e,t])},wt=l.createContext(null),ss=({children:n})=>{const[e,t]=le.useState({isConnected:!1,connectionState:"disconnected",lastError:null,connectionHealth:{isHealthy:!1,uptime:0,latency:null,reconnectAttempts:0}});return ns(()=>{N.isConnected()||Promise.resolve(N.connect()).catch(console.error)},()=>{},3e4),l.useEffect(()=>{const r=(...a)=>{const c=a[0];t(d=>({...d,connectionState:c,isConnected:c==="connected"}))},o=(...a)=>{const c=a[0];t(d=>({...d,lastError:c instanceof Error?c.message:"Unknown error"}))};N.on("connectionStateChanged",r),N.on("error",o),Promise.resolve(N.connect()).catch(console.error);const i=setInterval(()=>{const a=N.getConnectionHealth();t(c=>({...c,connectionHealth:{isHealthy:a.isHealthy,uptime:a.uptime,latency:a.latency,reconnectAttempts:a.reconnectAttempts}}))},5e3);return()=>{clearInterval(i),N.off("connectionStateChanged",r),N.off("error",o),N.disconnect()}},[]),s.jsx(wt.Provider,{value:e,children:n})},rs=()=>{const n=l.useContext(wt);if(!n)throw new Error("useWebSocket must be used within a WebSocketProvider");return n},os=({className:n=""})=>{const e=rs(),[t,r]=l.useState(!1),o=()=>e.isConnected?{icon:Dt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",status:"Connected",description:"Real-time data active"}:e.connectionState==="connecting"||e.connectionState==="reconnecting"?{icon:Pt,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",status:"Connecting",description:"Establishing connection..."}:{icon:Rt,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",status:"Disconnected",description:"Using mock data"},i=m=>m<6e4?`${Math.floor(m/1e3)}s`:m<36e5?`${Math.floor(m/6e4)}m`:`${Math.floor(m/36e5)}h ${Math.floor(m%36e5/6e4)}m`,a=m=>m===null?"N/A":`${Math.round(m)}ms`,c=o(),d=c.icon;return s.jsx("div",{className:`fixed bottom-4 right-4 z-40 ${n}`,children:s.jsxs("div",{className:`${c.bgColor} ${c.borderColor} border rounded-lg shadow-lg transition-all duration-200`,children:[s.jsxs("div",{className:`p-3 cursor-pointer flex items-center space-x-2 ${t?"border-b border-current border-opacity-20":""}`,onClick:()=>r(!t),children:[s.jsx(d,{className:`w-4 h-4 ${c.color}`}),s.jsx("span",{className:`text-sm font-medium ${c.color}`,children:c.status}),s.jsx("div",{className:`w-2 h-2 rounded-full ${e.isConnected?"bg-green-500":"bg-red-500"} animate-pulse`})]}),t&&s.jsx("div",{className:`p-3 text-xs ${c.color}`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:"font-medium",children:c.description})]}),e.isConnected&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Uptime:"}),s.jsx("span",{className:"font-mono",children:i(e.connectionHealth.uptime)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Latency:"}),s.jsx("span",{className:"font-mono",children:a(e.connectionHealth.latency)})]})]}),e.connectionHealth.reconnectAttempts>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Reconnects:"}),s.jsx("span",{className:"font-mono",children:e.connectionHealth.reconnectAttempts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"State:"}),s.jsx("span",{className:"font-mono capitalize",children:e.connectionState})]}),e.lastError&&s.jsx("div",{className:"pt-2 border-t border-current border-opacity-20",children:s.jsxs("div",{className:"flex items-start space-x-1",children:[s.jsx(Ae,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-xs break-all",children:e.lastError})]})})]})})]})})},is=()=>{const[n,e]=l.useState(!0),[t,r]=l.useState(!1);l.useEffect(()=>{const f=localStorage.getItem("envDebug_dismissed")==="true",p=localStorage.getItem("envDebug_minimized")==="true";e(!f),r(p)},[]);const o=()=>{e(!1),localStorage.setItem("envDebug_dismissed","true")},i=()=>{const f=!t;r(f),localStorage.setItem("envDebug_minimized",f.toString())},a=()=>{e(!0),localStorage.setItem("envDebug_dismissed","false")};if(!n)return s.jsx("button",{onClick:a,className:"env-debug-restore",title:"Show environment debug info",children:"ðŸ”"});const c={API_KEY:"6THJQ6FE-X32VSUH8-I8HQRELE-SVHRZ35Z",API_SECRET:"5e719df6e3945cec371e905996322fabcc3b038a8f5e870b601c31c0bc8b7af6d5ec6349b4d50f12f80a13dde3f9c64ecc0882b1ee384e9b7c658a153c9d6b57",API_URL:"https://polytrade-be.up.railway.app",WS_URL:"wss://polytrade-be.up.railway.app",FORCE_MOCK:void 0,NODE_ENV:"production",IS_PROD:!0},d=!!(c.API_KEY&&c.API_KEY.length>10),m=!!(c.API_SECRET&&c.API_SECRET.length>10),h=c.FORCE_MOCK==="true",u=d&&m&&!h;return t?s.jsx("div",{className:"env-debug-minimized",onClick:i,children:s.jsxs("span",{className:"env-debug-mode-indicator",children:["Mode: ",s.jsx("span",{className:u?"status-connected":"status-disconnected",children:u?"LIVE":"MOCK"}),"| ",c.NODE_ENV," | ðŸ”"]})}):s.jsxs("div",{className:"env-debug",children:[s.jsxs("div",{className:"env-debug-header",children:[s.jsx("h3",{className:"env-debug-title",children:"ðŸ” Environment Debug"}),s.jsxs("div",{className:"env-debug-actions",children:[s.jsx("button",{onClick:i,className:"env-debug-button",title:"Minimize",children:t?"â¬†ï¸":"â¬‡ï¸"}),s.jsx("button",{onClick:o,className:"env-debug-button danger",title:"Dismiss",children:"âœ–ï¸"})]})]}),s.jsxs("div",{className:"env-debug-content",children:[s.jsxs("div",{className:"env-debug-section",children:[s.jsx("div",{children:"Environment Mode:"}),s.jsx("div",{children:s.jsx("span",{className:`env-debug-mode ${u?"status-connected":"status-disconnected"}`,children:u?"LIVE":"OFFLINE"})})]}),s.jsxs("div",{className:"env-debug-section",children:[s.jsx("div",{children:"Issues:"}),s.jsxs("ul",{className:"env-debug-issues",children:[!d&&s.jsx("li",{className:"env-debug-issue",children:"No API Key"}),!m&&s.jsx("li",{className:"env-debug-issue",children:"No API Secret"}),h&&s.jsx("li",{className:"env-debug-issue",children:"Force Mock = true"}),u&&s.jsx("li",{className:"env-debug-success",children:"All conditions met!"})]})]}),s.jsxs("details",{className:"env-debug-details",children:[s.jsx("summary",{children:"Show Environment Variables"}),s.jsx("pre",{className:"env-debug-pre",children:JSON.stringify(c,null,2)})]})]}),s.jsxs("div",{className:"env-debug-footer",children:["Mode: ",s.jsx("span",{className:u?"status-connected":"status-disconnected",children:u?"LIVE":"OFFLINE"})," | ",c.NODE_ENV," | v",void 0]})]})},as=()=>{const[n,e]=l.useState("checking"),[t,r]=l.useState("checking"),[o,i]=l.useState(null),[a,c]=l.useState(!0),d=l.useRef(!1),m=l.useRef(!1),h=l.useRef({api:0,ws:0}),u=we(y=>y.addToast),f="https://polytrade-be.up.railway.app",p="wss://polytrade-be.up.railway.app";l.useEffect(()=>{(async()=>{try{const b=`${f}/api/health`,w=await fetch(b,{method:"GET",headers:{Accept:"application/json"},mode:"cors"}),I=w.headers.get("content-type")||"";if(!w.ok){let L="";try{L=await w.text()}catch{L=""}throw new Error(`HTTP ${w.status}: ${w.statusText} (${b}) ${L.slice(0,200)}`)}if(!I.includes("application/json")){const L=await w.text().catch(()=>"");throw new Error(`Non-JSON response ${w.status} from ${b}: ${L.slice(0,200)}`)}const O=await w.json();e("connected"),i(O),d.current=!1}catch(b){const w=b,I=Date.now();!d.current||I-h.current.api>3e4?(w.message.includes("CORS")||w.message.includes("Failed to fetch")?(e("cors-blocked"),u({message:"Backend API unavailable - using mock data (expected in development)",type:"warning",dismissible:!0})):(e("failed"),u({message:`API connection failed: ${w.message}`,type:"error",dismissible:!0})),d.current=!0,h.current.api=I):w.message.includes("CORS")||w.message.includes("Failed to fetch")?e("cors-blocked"):e("failed")}})();const _=et(p,{transports:["websocket","polling"],reconnectionAttempts:3,timeout:5e3});return _.on("connect",()=>{r("connected"),m.current=!1}),_.on("connect_error",b=>{const w=Date.now();(!m.current||w-h.current.ws>3e4)&&(b.message.includes("WebSocket is closed before the connection is established")?u({message:"WebSocket unavailable - using mock data (expected in development)",type:"warning",dismissible:!0}):u({message:`WebSocket error: ${b.message}`,type:"error",dismissible:!0}),m.current=!0,h.current.ws=w),r("failed")}),()=>{const b=_;typeof b.disconnect=="function"?b.disconnect():typeof b.close=="function"&&b.close()}},[f,p,u]);const E=y=>{switch(y){case"connected":return"connection-status-widget__status--connected";case"failed":return"connection-status-widget__status--failed";case"cors-blocked":return"connection-status-widget__status--warning";default:return"connection-status-widget__status--warning"}},x=y=>{switch(y){case"connected":return"CONNECTED";case"failed":return"FAILED";case"cors-blocked":return"CORS BLOCKED";case"checking":return"CHECKING";default:return y.toUpperCase()}};return s.jsxs(s.Fragment,{children:[a&&s.jsxs("div",{className:"connection-status-widget",children:[s.jsxs("div",{className:"connection-status-widget__header",children:[s.jsx("h3",{className:"connection-status-widget__title",children:"ðŸ”Œ Connection Status"}),s.jsx("button",{onClick:()=>c(!1),className:"connection-status-widget__close-btn",title:"Hide connection status",children:"Ã—"})]}),s.jsxs("div",{className:"connection-status-widget__section",children:[s.jsxs("div",{className:"connection-status-widget__row",children:[s.jsx("span",{children:"API Connection:"}),s.jsx("span",{className:`connection-status-widget__status ${E(n)}`,children:x(n)})]}),s.jsx("div",{className:"connection-status-widget__url",children:f}),o&&s.jsx("pre",{className:"connection-status-widget__pre",children:JSON.stringify(o,null,2)})]}),s.jsxs("div",{className:"connection-status-widget__section",children:[s.jsxs("div",{className:"connection-status-widget__row",children:[s.jsx("span",{children:"WebSocket:"}),s.jsx("span",{className:`connection-status-widget__status ${E(t)}`,children:x(t)})]}),s.jsx("div",{className:"connection-status-widget__url",children:p})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"connection-status-widget__refresh-btn",children:"Refresh"})]}),!a&&s.jsx("button",{onClick:()=>c(!0),className:"connection-status-widget__toggle-btn",title:"Show connection status",children:"ðŸ”Œ Status"})]})};var cs=Object.defineProperty,ls=(n,e,t)=>e in n?cs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,St=(n,e,t)=>ls(n,typeof e!="symbol"?e+"":e,t);const vt=class ie{constructor(){St(this,"logLevel"),this.logLevel="info"}static getInstance(){return ie.instance||(ie.instance=new ie),ie.instance}setLogLevel(e){this.logLevel=e}shouldLog(e){const t={debug:0,info:1,warn:2,error:3};return t[e]>=t[this.logLevel]}log(e,t,r){if(!this.shouldLog(e))return;const i={timestamp:new Date().toISOString(),level:e.toUpperCase(),message:t,context:{...r,service:r?.service||"frontend"}};console[e](JSON.stringify(i))}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t){this.log("error",e,t)}};St(vt,"instance");let ds=vt;const X=ds.getInstance(),us=({onInstall:n,onDismiss:e})=>{const[t,r]=l.useState(!1),[o,i]=l.useState(null),[a,c]=l.useState(!1);l.useEffect(()=>{(()=>{const p=typeof window<"u"?window.navigator:void 0,E=typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(display-mode: standalone)").matches,x=!!(p&&p.standalone===!0),y=typeof document<"u"&&typeof document.referrer=="string"&&document.referrer.includes("android-app://"),_=!!(E||x||y);r(_),X.info("Standalone mode checked",{component:"PWAInstallPrompt",metadata:{standalone:_}})})();const u=p=>{if(p.preventDefault(),(()=>{try{return localStorage.getItem("pwa_install_dismissed")==="true"}catch{return!1}})()||t)return;i(p),c(!0),X.info("PWA install prompt available",{component:"PWAInstallPrompt"})},f=()=>{c(!1),i(null),X.info("PWA installed",{component:"PWAInstallPrompt"}),n?.()};if(typeof window<"u"&&typeof window.addEventListener=="function"&&(window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",f)),typeof window<"u"&&typeof window.navigator<"u"){const p=window.navigator;typeof p.getInstalledRelatedApps=="function"&&p.getInstalledRelatedApps().then(E=>{E.length>0&&(X.info("PWA already installed",{component:"PWAInstallPrompt",metadata:{appsCount:E.length}}),c(!1))})}return()=>{typeof window<"u"&&typeof window.removeEventListener=="function"&&(window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",f))}},[]);const d=async()=>{if(o)try{o.prompt();const{outcome:h}=await o.userChoice;X.info("User response to install prompt",{component:"PWAInstallPrompt",metadata:{outcome:h}}),h==="accepted"&&(c(!1),n?.()),i(null)}catch(h){X.error("Error installing PWA",{component:"PWAInstallPrompt",metadata:{error:h instanceof Error?h.message:"Unknown error"}})}},m=()=>{c(!1);try{localStorage.setItem("pwa_install_dismissed","true")}catch{}e?.()};return t||!a?null:s.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 max-w-sm z-50 border border-neutral-200",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:"/icon-192.png",alt:"Trading Bot",className:"w-8 h-8 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold",children:"Install Trading Bot"}),s.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"Get better performance and offline access"})]})]}),s.jsx("button",{onClick:m,className:"text-neutral-400 hover:text-neutral-600","aria-label":"Dismiss",children:"Ã—"})]}),s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{onClick:d,className:"flex-1 bg-blue-600 text-white text-sm py-2 px-3 rounded-md hover:bg-blue-700 transition-colors",children:"Install"}),s.jsx("button",{onClick:m,className:"flex-1 bg-neutral-100 text-neutral-700 text-sm py-2 px-3 rounded-md hover:bg-neutral-200 transition-colors",children:"Not now"})]})]})},hs=(n,e)=>{const t=qe(),[r,o]=l.useState(5);return l.useEffect(()=>{if(e?.message?.includes("Failed to load")||e?.message?.includes("chunk")||e?.message?.includes("route")){const c=setInterval(()=>{o(d=>d<=1?(clearInterval(c),t("/dashboard"),0):d-1)},1e3);return()=>clearInterval(c)}},[n,e,t]),{countdown:r,navigateToDashboard:()=>{t("/dashboard")}}},ms=({error:n,errorInfo:e,errorCount:t,onReset:r})=>{const{countdown:o,navigateToDashboard:i}=hs(!0,n),[a,c]=l.useState(!1),d=t>3||n?.message?.includes("critical");return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:d?"Critical Error":"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-4",children:d?"A critical error has occurred. Please refresh the page or contact support.":"Don't worry, we're working on fixing this issue."})]}),n&&s.jsxs("div",{className:"mb-4 text-left",children:[s.jsxs("button",{onClick:()=>c(!a),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:[a?"Hide":"Show"," Error Details"]}),a&&s.jsxs("div",{className:"mt-2 p-3 bg-gray-100 rounded text-sm text-gray-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Error:"})," ",n.message]}),n.stack&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"cursor-pointer text-gray-600",children:"Stack Trace"}),s.jsx("pre",{className:"mt-1 text-xs whitespace-pre-wrap break-all",children:n.stack})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Try Again"}),s.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:"Go to Dashboard"})]}),o>0&&s.jsxs("p",{className:"mt-4 text-sm text-gray-500",children:["Automatically redirecting to dashboard in ",o," seconds..."]}),t>1&&s.jsxs("p",{className:"mt-2 text-sm text-orange-600",children:["Error occurred ",t," times"]})]})})};class fs{constructor(){this.isDevelopment=!0,this.version="1.0.0",this.environment="development";try{if(typeof window<"u"&&window.__VITE_DEV__)this.isDevelopment=!0,this.environment="development";else if(typeof globalThis<"u"){const e="production";e&&(this.isDevelopment=e==="development",this.environment=e)}}catch{console.warn("Failed to detect environment, using development defaults")}}createLogEntry(e,t,r,o){const i={level:e,message:t,timestamp:new Date().toISOString(),environment:this.environment,version:this.version};return r&&(i.context=r),o&&(i.error={name:o.name,message:o.message,stack:o.stack}),typeof window<"u"&&(i.userAgent=navigator.userAgent,i.url=window.location.href),i}logToConsole(e){const{level:t,message:r,context:o,error:i}=e;if(this.isDevelopment){const a=new Date(e.timestamp).toLocaleTimeString(),c={debug:"ðŸ›",info:"â„¹ï¸",warn:"âš ï¸",error:"âŒ",critical:"ðŸš¨"}[t];console.group(`${c} [${a}] ${r}`),o&&console.log("Context:",o),i&&console.error("Error:",i),console.groupEnd()}else console.log(JSON.stringify(e))}async logToServer(e){if(!this.isDevelopment&&["error","critical"].includes(e.level))try{await fetch("/api/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.error("Failed to log to server:",t)}}log(e,t,r,o){const i=this.createLogEntry(e,t,r,o);if(this.logToConsole(i),this.logToServer(i),e==="critical"||e==="error")try{const a=JSON.parse(localStorage.getItem("errorLog")||"[]");a.push(i),a.length>50&&a.shift(),localStorage.setItem("errorLog",JSON.stringify(a))}catch(a){console.error("Failed to store error log:",a)}}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t,r){this.log("error",e,r,t)}critical(e,t,r){this.log("critical",e,r,t)}time(e){this.isDevelopment&&console.time(e)}timeEnd(e,t){this.isDevelopment&&console.timeEnd(e),this.info(`Performance: ${e} completed`,t)}apiRequest(e,t,r){this.info(`API ${e} ${t}`,{...r,component:"api",action:"request"})}apiResponse(e,t,r,o,i){const a=r>=400?"error":r>=300?"warn":"info";this.log(a,`API ${e} ${t} ${r} (${o}ms)`,{...i,component:"api",action:"response",status:r,duration:o})}tradeExecuted(e,t){this.info("Trade executed",{...t,component:"trading",action:"trade_executed",tradeId:e.id,pair:e.pair,side:e.side,amount:e.amount})}strategyAction(e,t,r){this.info(`Strategy ${t}`,{...r,component:"strategy",action:t,strategyId:e})}modelPrediction(e,t,r,o){this.info("Model prediction generated",{...o,component:"ml",action:"prediction",modelName:e,prediction:t,confidence:r})}getErrorLogs(){try{return JSON.parse(localStorage.getItem("errorLog")||"[]")}catch{return[]}}clearErrorLogs(){localStorage.removeItem("errorLog")}}const Ve=new fs;var ps=Object.defineProperty,gs=(n,e,t)=>e in n?ps(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Y=(n,e,t)=>gs(n,typeof e!="symbol"?e+"":e,t);class xs extends l.Component{constructor(e){super(e),Y(this,"resetTimeoutId",null),Y(this,"onWindowError"),Y(this,"onUnhandledRejection"),Y(this,"logError",(t,r)=>{const o={component:"ErrorBoundary",errorCount:this.state.errorCount,errorId:this.state.errorId};this.isInitializationError(t)?Ve.critical("Initialization error detected - may require page refresh",t,o):Ve.error("ErrorBoundary caught an error",t,o)}),Y(this,"isInitializationError",t=>{const r=t.message||"";return r.includes("Cannot access")&&r.includes("before initialization")||r.includes("temporal dead zone")||r.includes("ReferenceError")||r.includes("185")||r.includes("Maximum update depth exceeded")||r.includes("infinite")||r.includes("hydration")||r.includes("Text content does not match server-rendered HTML")||r.includes("Hydration failed")}),Y(this,"handleReset",()=>{this.resetTimeoutId&&(clearTimeout(this.resetTimeoutId),this.resetTimeoutId=null),this.setState({hasError:!1,error:null,errorInfo:null,errorId:""})}),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0,errorId:""}}componentDidMount(){this.onWindowError=e=>{this.state.hasError||this.setState({hasError:!0,error:e.error instanceof Error?e.error:new Error(e.message||"Unknown error"),errorInfo:null,errorId:`error-${Date.now()}-${Math.random().toString(36).substr(2,9)}`})},this.onUnhandledRejection=e=>{const t=e.reason,r=t instanceof Error?t:new Error(typeof t=="string"?t:"Unhandled rejection");this.state.hasError||this.setState({hasError:!0,error:r,errorInfo:null,errorId:`error-${Date.now()}-${Math.random().toString(36).substr(2,9)}`})},typeof window.addEventListener=="function"&&(window.addEventListener("error",this.onWindowError),window.addEventListener("unhandledrejection",this.onUnhandledRejection))}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:`error-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(e,t){this.setState(r=>({errorInfo:t,errorCount:r.errorCount+1})),this.logError(e,t),this.state.errorCount<3&&!this.isInitializationError(e)&&(this.resetTimeoutId=globalThis.setTimeout(()=>{this.handleReset()},3e4))}componentWillUnmount(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId),typeof window.removeEventListener=="function"&&(this.onWindowError&&window.removeEventListener("error",this.onWindowError),this.onUnhandledRejection&&window.removeEventListener("unhandledrejection",this.onUnhandledRejection))}render(){if(this.state.hasError){const e=this.props.fallback||ms;return s.jsx(e,{error:this.state.error,errorInfo:this.state.errorInfo,errorCount:this.state.errorCount,onReset:this.handleReset})}return this.props.children}}const bs=()=>{const[n,e]=l.useState([]),[t,r]=l.useState(!0),[o,i]=l.useState(null),a=async h=>{i(h),setTimeout(()=>{const u=[{name:"Poloniex API",status:"connected",lastSync:new Date().toLocaleTimeString(),message:"Real-time data sync active"},{name:"TradingView",status:"connected",lastSync:new Date().toLocaleTimeString(),message:"Chart data extraction active"},{name:"Chrome Extension",status:"disconnected",message:"Extension not detected"}];e(u),r(!1),i(null)},1e3)};l.useEffect(()=>{a("all")},[]);const c=h=>{switch(h){case"connected":return s.jsx(Ze,{className:"h-5 w-5 text-green-500"});case"error":return s.jsx(Qe,{className:"h-5 w-5 text-red-500"});default:return s.jsx(Mt,{className:"h-5 w-5 text-gray-400"})}},d=h=>{switch(h){case"connected":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-500"}},m=h=>{switch(h){case"connected":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";default:return"bg-gray-50 border-gray-200"}};return t?s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Integration Status"}),s.jsx(Se,{className:"h-5 w-5 animate-spin text-blue-500"})]}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(h=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},h))})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Integration Status"}),s.jsx("button",{onClick:()=>a("all"),disabled:o==="all",className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Refresh all integrations",children:s.jsx(Se,{className:`h-4 w-4 ${o==="all"?"animate-spin":""}`})})]}),s.jsx("div",{className:"space-y-4",children:n.map(h=>s.jsxs("div",{className:`p-4 rounded-lg border ${m(h.status)}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[c(h.status),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:h.name}),s.jsx("p",{className:`text-sm ${d(h.status)}`,children:h.message})]})]}),s.jsx("button",{onClick:()=>a(h.name),disabled:o===h.name,className:"p-1 text-gray-400 hover:text-gray-600",title:`Refresh ${h.name}`,children:s.jsx(Se,{className:`h-4 w-4 ${o===h.name?"animate-spin":""}`})})]}),h.lastSync&&s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last sync: ",h.lastSync]})]},h.name))}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(je,{className:"h-5 w-5 text-blue-500 mt-0.5"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Setup Instructions"}),s.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[s.jsx("p",{children:"To enable all integrations:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[s.jsx("li",{children:"Install the Chrome extension from the Chrome Web Store"}),s.jsx("li",{children:"Add your Poloniex API credentials in Settings"}),s.jsx("li",{children:"Visit TradingView and enable the extension"}),s.jsx("li",{children:"Grant necessary permissions when prompted"})]})]})]})]})}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs("a",{href:"https://docs.poloniex.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[s.jsx(Lt,{className:"h-4 w-4 mr-1"}),"View Documentation"]})})]})},ws=()=>{const n=we(a=>a.toasts),e=we(a=>a.removeToast),t=l.useRef(new Map),r=l.useCallback(a=>{const c=t.current.get(a);c&&clearTimeout(c);const d=setTimeout(()=>{e(a),t.current.delete(a)},5e3);t.current.set(a,d)},[e]);l.useEffect(()=>{n.forEach(c=>{c.dismissible!==!1&&!t.current.has(c.id)&&r(c.id)});const a=new Set(n.map(c=>c.id));t.current.forEach((c,d)=>{a.has(d)||(clearTimeout(c),t.current.delete(d))})},[n.length,r]),l.useEffect(()=>()=>{t.current.forEach(a=>clearTimeout(a)),t.current.clear()},[]);const o=a=>{switch(a){case"success":return s.jsx(Ze,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(Ae,{className:"w-5 h-5 text-red-500"});case"warning":return s.jsx(Qe,{className:"w-5 h-5 text-yellow-500"});case"info":default:return s.jsx(Ot,{className:"w-5 h-5 text-blue-500"})}},i=a=>{const c="relative flex items-center p-4 mb-3 rounded-lg shadow-lg border transition-all duration-300 max-w-md";switch(a){case"success":return ee(c,"bg-green-50 border-green-200 text-green-800");case"error":return ee(c,"bg-red-50 border-red-200 text-red-800");case"warning":return ee(c,"bg-yellow-50 border-yellow-200 text-yellow-800");case"info":default:return ee(c,"bg-blue-50 border-blue-200 text-blue-800")}};return n.length===0?null:s.jsx("div",{className:"fixed top-20 right-4 z-30 space-y-2 max-w-md",children:n.map(a=>s.jsxs("div",{className:i(a.type),children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o(a.type),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:a.message})})]}),a.dismissible!==!1&&s.jsx("button",{onClick:()=>e(a.id),className:"ml-3 flex-shrink-0 p-1 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Dismiss notification",children:s.jsx(Xe,{className:"w-4 h-4"})})]},a.id))})},Ss=({children:n})=>{const e=ke(),t=qe();return l.useEffect(()=>{sessionStorage.setItem("lastRoute",e.pathname),!["/","/strategies","/backtesting","/charts","/performance","/account","/transactions","/trades","/chat","/settings","/extension","/status","/login","/dashboard/live","/404"].includes(e.pathname)&&e.pathname!=="/404"&&t("/404",{replace:!0})},[e.pathname,t]),s.jsx(s.Fragment,{children:n})},yt=()=>{if(typeof window>"u")return!1;try{return!!(window.chrome&&window.chrome.runtime)}catch{return!1}},vs=()=>yt()&&window.chrome?.runtime||null;var ys=Object.defineProperty,Es=(n,e,t)=>e in n?ys(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ge=(n,e,t)=>Es(n,typeof e!="symbol"?e+"":e,t);const Et=class ae{constructor(){ge(this,"errorCount",0),ge(this,"maxErrors",10),ge(this,"suppressErrors",!1),this.setupErrorInterceptor()}static getInstance(){return ae.instance||(ae.instance=new ae),ae.instance}setupErrorInterceptor(){const e=console.error;console.error=(...t)=>{const r=t[0]?.toString()||"";if(!(this.isExtensionError(r)&&(this.handleExtensionError(r),this.suppressErrors||this.errorCount>this.maxErrors))){if(this.isReactProductionError(r)){this.handleExtensionError(r);return}e.apply(console,t)}},window.addEventListener("unhandledrejection",t=>{this.isExtensionError(t.reason?.toString()||"")&&(t.preventDefault(),this.handleExtensionError(t.reason))})}isExtensionError(e){return["listener indicated an asynchronous response","message channel closed","Extension context invalidated","Receiving end does not exist","Could not establish connection","chrome-extension"].some(r=>e.toLowerCase().includes(r.toLowerCase()))}isReactProductionError(e){return["Minified React error #185","visit https://react.dev/errors/185","use the non-minified dev environment for full errors"].some(r=>e.toLowerCase().includes(r.toLowerCase()))}handleExtensionError(e){this.errorCount++;const t=typeof e=="string"?e:e.message||e.toString();this.isReactProductionError(t)||((this.errorCount===1||this.errorCount%10===0)&&console.warn(`Browser extension communication error (${this.errorCount} occurrences). This is likely caused by a browser extension and can be safely ignored.`),this.errorCount>this.maxErrors*2&&(this.suppressErrors=!0))}reset(){this.errorCount=0,this.suppressErrors=!1}};ge(Et,"instance");let _s=Et;class Ts{static isExtensionInstalled(e){const t=vs();if(e&&t)try{t.sendMessage(e,{ping:!0},()=>!t.lastError)}catch{return!1}return!!(yt()||window.browser?.runtime)}static detectConflictingExtensions(){const e=[];return[{name:"MetaMask",check:()=>!!window.ethereum},{name:"AdBlock",check:()=>!!window.adblockDetected},{name:"React DevTools",check:()=>!!window.__REACT_DEVTOOLS_GLOBAL_HOOK__}].forEach(r=>{r.check()&&e.push(r.name)}),e}static setupExtensionCompatibility(){_s.getInstance();const e=this.detectConflictingExtensions();e.length>0&&console.info(`Detected browser extensions: ${e.join(", ")}. Some console errors may appear due to extension communication.`),this.protectMessageChannels()}static protectMessageChannels(){const e=window.postMessage;window.postMessage=function(...t){try{return e.apply(window,t)}catch(r){if(r?.toString().includes("message channel closed"))return;throw r}}}}const Ns=l.lazy(()=>R(()=>import("./Dashboard-BYgIIIsv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Is=l.lazy(()=>R(()=>import("./LiveTradingDashboard-C0K1vBGG.js"),__vite__mapDeps([9,1,2,3,6,7,5,8]))),Cs=l.lazy(()=>R(()=>import("./Strategies-CGTU5x-K.js"),__vite__mapDeps([10,1,2,3,4,11,6,7,8]))),ks=l.lazy(()=>R(()=>import("./Backtesting-CxVL2-vg.js"),__vite__mapDeps([12,1,2,3,11,6,7,8]))),js=l.lazy(()=>R(()=>import("./Account-TxjliNfA.js"),__vite__mapDeps([13,1,2,3,6,7,8]))),As=l.lazy(()=>R(()=>import("./TransactionHistory-Dt2QGyWT.js"),__vite__mapDeps([14,1,2,3]))),Ds=l.lazy(()=>R(()=>import("./TradeHistory-DoPN0nKR.js"),__vite__mapDeps([15,1,2,3]))),Ps=l.lazy(()=>R(()=>import("./MarketAnalysis-C8KLpgGn.js"),__vite__mapDeps([16,1,2,3,4,6,7,8]))),Rs=l.lazy(()=>R(()=>import("./Performance-CBPg-n-j.js"),__vite__mapDeps([17,1,2,3,7]))),Ls=l.lazy(()=>R(()=>import("./Settings-CaUj8_Zq.js"),__vite__mapDeps([18,1,2,3,6,7,8]))),Ms=l.lazy(()=>R(()=>import("./Chat-B4qlre0Q.js"),__vite__mapDeps([19,1,2,3]))),Os=l.lazy(()=>R(()=>import("./ExtensionDownload-FCKYdJap.js"),__vite__mapDeps([20,1,2,3,6,7,8]))),Us=l.lazy(()=>R(()=>import("./Status-BJiEOvMq.js"),__vite__mapDeps([21,1,2,3,6,7,8]))),$s=l.lazy(()=>R(()=>import("./Login-Dkf1exg4.js"),__vite__mapDeps([22,1,2,3,6,7,8]))),He=l.lazy(()=>R(()=>import("./NotFound-BNP58ufs.js"),__vite__mapDeps([23,1,2,3]))),Bs=()=>s.jsxs("div",{className:"flex items-center justify-center min-h-screen",role:"status","aria-label":"Loading application",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:"Loading..."})]});function Fs(){return l.useEffect(()=>{Ts.setupExtensionCompatibility(),window.useAppStore?.getState?.()?.ui?.darkMode&&document.documentElement.classList.add("dark")},[]),s.jsxs(s.Fragment,{children:[s.jsx(ts,{}),s.jsx(Ut,{children:s.jsx(xs,{children:s.jsx(rn,{children:s.jsx(Gt,{children:s.jsx(ss,{children:s.jsxs(Qn,{children:[s.jsxs("div",{className:"flex h-screen bg-neutral-100 overflow-hidden",children:[s.jsx(es,{}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx(fn,{}),s.jsx("main",{id:"main-content",className:"flex-1 overflow-y-auto bg-neutral-100 p-4 sm:p-6 lg:p-8",role:"main","aria-label":"Main content",tabIndex:-1,children:s.jsx(Ss,{children:s.jsx(l.Suspense,{fallback:s.jsx(Bs,{}),children:s.jsxs($t,{children:[s.jsx(D,{path:"/",element:s.jsx(Ns,{})}),s.jsx(D,{path:"/dashboard/live",element:s.jsx(Is,{})}),s.jsx(D,{path:"/strategies",element:s.jsx(Cs,{})}),s.jsx(D,{path:"/backtesting",element:s.jsx(ks,{})}),s.jsx(D,{path:"/charts",element:s.jsx(Ps,{})}),s.jsx(D,{path:"/performance",element:s.jsx(Rs,{})}),s.jsx(D,{path:"/account",element:s.jsx(js,{})}),s.jsx(D,{path:"/transactions",element:s.jsx(As,{})}),s.jsx(D,{path:"/trades",element:s.jsx(Ds,{})}),s.jsx(D,{path:"/chat",element:s.jsx(Ms,{})}),s.jsx(D,{path:"/settings",element:s.jsx(Ls,{})}),s.jsx(D,{path:"/extension",element:s.jsx(Os,{})}),s.jsx(D,{path:"/status",element:s.jsx(Us,{})}),s.jsx(D,{path:"/login",element:s.jsx($s,{})}),s.jsx(D,{path:"/404",element:s.jsx(He,{})}),s.jsx(D,{path:"*",element:s.jsx(He,{})})]})})})})]})]}),s.jsx(bs,{}),s.jsx(ws,{}),s.jsx(os,{}),s.jsx(is,{}),s.jsx(as,{}),s.jsx(us,{})]})})})})})})]})}Bt.createRoot(document.getElementById("root")).render(s.jsx(le.StrictMode,{children:s.jsx(Fs,{})}));export{ct as B,an as I,de as S,R as _,Gs as a,En as b,K as c,_n as d,Tn as e,Ie as f,Cn as g,nt as h,Yn as i,De as j,Ve as l,z as m,re as p,ue as s,Xs as t,Zn as u};
//# sourceMappingURL=index-CKZf6eLu.js.map
