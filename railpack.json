{
  "$schema": "https://schema.railpack.com",
  "steps": {
    "install": {
      "inputs": [{ "local": true, "include": ["."] }],
      "commands": [
        "bash -lc 'if [ -f requirements.txt ]; then python3 -m ensurepip --upgrade || true; fi'",
        "bash -lc 'if [ -f requirements.txt ]; then python3 -m pip install --upgrade pip; fi'",
        "bash -lc 'if [ -f requirements.txt ]; then python3 -m pip install -r requirements.txt; fi'",
        "bash -lc 'if [ -f package.json ]; then corepack enable || true; fi'",
        "bash -lc 'if [ -f package.json ]; then yarn --immutable || yarn install; fi'"
      ]
    },
    "build": {
      "inputs": [{ "step": "install", "include": ["."] }],
      "commands": [
        "bash -lc 'if [ -f package.json ]; then yarn build || true; fi'"
      ]
    }
  },
  "deploy": {
    "inputs": [{ "step": "build", "include": ["."] }],
    "paths": [],
    "variables": {
      "PORT": "$PORT"
    }
  }
}
