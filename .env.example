# Poloniex Trading Platform - Environment Variables
# Copy this file to .env and fill in your actual values
# See individual service directories for service-specific variables

# =============================================================================
# CORE API CREDENTIALS (Required for all trading functionality)
# =============================================================================

# Poloniex API Credentials - Required for live trading
POLONIEX_API_KEY=your-api-key-here
POLONIEX_API_SECRET=your-api-secret-here

# =============================================================================
# DATABASE & BACKEND CONFIGURATION
# =============================================================================

# Database Connection (Railway auto-managed for production)
DATABASE_URL=your-database-url-here

# JWT Security (MUST be changed for production)
JWT_SECRET=your-super-secure-jwt-secret-change-this-in-production

# Backend Environment
NODE_ENV=production

# =============================================================================
# SERVICE COMMUNICATION (Railway auto-configured)
# =============================================================================

# Frontend URL for CORS and redirects
FRONTEND_URL=https://your-frontend-url.com

# Backend API URL for frontend communication  
VITE_API_URL=https://your-backend-url.com
VITE_BACKEND_URL=https://your-backend-url.com

# WebSocket URL for real-time communication
VITE_WS_URL=wss://your-backend-url.com

# =============================================================================
# RAILWAY DEPLOYMENT VARIABLES (Auto-configured in Railway)
# =============================================================================

# Railway Reference Variables (use in Railway UI)
# FRONTEND_URL=https://${{polytrade-fe.RAILWAY_PUBLIC_DOMAIN}}
# VITE_BACKEND_URL=https://${{polytrade-be.RAILWAY_PUBLIC_DOMAIN}}
# DATABASE_URL=${{Postgres.DATABASE_URL}}

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Frontend Standalone Mode (set to 'true' if frontend and backend are separate services)
# - When 'true': Backend only serves API, frontend served separately
# - When 'false' or unset: Backend serves both API and frontend static files
FRONTEND_STANDALONE=true

# API Encryption Key (generate with: openssl rand -base64 32)
API_ENCRYPTION_KEY=your-encryption-key-here

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Redis Configuration (if using Redis for caching/sessions)
REDIS_URL=redis://localhost:6379

# CORS Origins (comma-separated list for development)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5675,https://yourdomain.com

# Port Configuration (Railway auto-assigns in production)
# Backend uses range 8765-8799, Frontend uses 5675-5699
PORT=8765

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# Mock Mode (frontend development without real API)
VITE_FORCE_MOCK_MODE=false
VITE_DISABLE_MOCK_MODE=false

# Python Environment (ML services)
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 
# CRITICAL: Never commit actual secrets to version control!
# 
# Required for Production:
# 1. JWT_SECRET - Must be 32+ characters, never use default values
# 2. DATABASE_URL - Provided by Railway Postgres plugin
# 3. API_ENCRYPTION_KEY - Generate with: openssl rand -base64 32
# 
# Frontend Environment Variables:
# - Only VITE_* prefixed variables are exposed to the browser
# - Never prefix backend secrets with VITE_
# - VITE_API_URL, VITE_WS_URL are safe to expose
# 
# Recommended Security Practices:
# - Rotate JWT_SECRET and API_ENCRYPTION_KEY regularly
# - Use Railway's secret management for production
# - Enable rate limiting (already configured in backend)
# - Monitor logs for suspicious activity
# - Keep dependencies updated
# 
# =============================================================================